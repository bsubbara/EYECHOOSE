<!DOCTYPE html>
<html lang="en">
<!--Added justification of decision making-->
<!--TODO: fix home page image to adjust itself according screen resolution, if possible.-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
	<link href="http://fonts.cdnfonts.com/css/optician-sans" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-2/css/all.min.css" integrity="sha256-46r060N2LrChLLb5zowXQ72/iKKNiw/lAmygmHExk/o=" crossorigin="anonymous" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
	
	
	<style>
		<!-- /*General Style*/ -->
		*{
			margin: 0;
			padding: 0;
			box-sizing: border-box;
			list-style: none;
			text-decoration: none;
		}

		html{
			font-size: 1rem;
		}

		a {
			color: black;
		}

		h1 {
			font-weight: 1000;
			font-family: 'Optician Sans', sans-serif;
			display: block;
			width: fit-content;
			font-size: 2rem;
			margin-bottom: 10px;
		}

		p {
			font-weight: 100;
			font-size: 0.9rem;
			font-family: 'Poppins';
			margin-bottom: 10px;	
		}

		.inner{
			width: 1200px;
			height: 100%;
			display: block;
			margin: 0 auto;
		}
		<!-- /*End of General Style*/

		/*Navigation Bar*/ -->
		nav {
			background-color: white;
			color: black;
			display: flex;
			justify-content: space-between;
			border-bottom: solid 1px rgba(16, 16, 16, 0.1);
			font-family: 'Optician Sans', sans-serif;
			position: sticky;
			top: 0;
			padding-right: 20px;
			z-index: 100;
		}

			nav .mainMenu {
				height: 100vh;
				position: fixed;
				top: 0;
				right: 0;
				left: 0%;
				bottom: 0;
				z-index: 10;
				padding-top: 20%;
				flex-direction: column;
				align-items: center;
				background: white;
				transition: right 3s;
				display: none;
			}
			
			nav .mainMenu .closeMenu {
				display: block;
				position: absolute;
				top: 20px;
				right: 20px;
			}
			
			nav .openMenu {
				display: block;
				margin: 30px;
			}
			
			nav .mainMenu li a {
				font-size: 1.5rem;
			}
			nav .mainMenu li a:hover {
				background: none;
				color: crimson;
				font-size: 2rem;
			}

		nav .logo {
			margin: 20px;
			font-size: 25px;
			cursor: pointer;
		}

		.logo h1 { 
			font-weight: 100;
			font-family: 'Optician Sans', sans-serif;
		}

		.logo h2 { 
			font-weight: 500;
			font-family: 'Optician Sans', sans-serif;
		}

		.logo h1 span { 
			font-weight: 1000;
			font-family: 'Optician Sans', sans-serif;
		}

		.logo:hover a{
			color: crimson;
		}
		<!-- /*End of Navigation Bar*/ -->

		<!-- /*Home Section*/ -->
		#home .homeContainer{
			display: flex;
			align-items: flex-start;
			text-align: left;
			flex-direction: column;
			padding: 30px;
			background: no-repeat center/80% url("https://live.staticflickr.com/7293/15791962004_58d6296748_b.jpg");
			background-size: cover;
			position: relative;
			z-index; 1;
			overflow: hidden;
			padding-top: 100px;
			padding-bottom: 225px;
			color: black;
			text-outline: 1px black;
		}
		
		#home .logo h1, #home .logo p {
			display: inline;
			vertical-align: top;
			line-height: 28px;
		}
		<!-- /*End of Home Section*/ -->

		<!-- /*Patient Education Section*/ -->
		#patientEdu .patientEduContainer {
			display: flex;
			align-items: flex-start;
			text-align: left;
			flex-direction: column;
			padding: 30px;
			background-color: #F0F0F0;
			background-size: cover;
			position: relative;
			z-index; 1;
			overflow: hidden;
			padding-top: 200px;
			padding-bottom: 200px;
		}

		.patientEduContainer p {
			font-weight: 100;
			font-size: 1rem;
			font-family: 'Poppins';	
		}

		#patientEdu .logo p {
			display: inline;
			vertical-align: top;
			line-height: 28px;
		}

		#patientEdu .logo li a p {
			display: block;
			color: black;
		}

		#patientEdu .logo li a p:hover {
			color: crimson;
			font-weight: 1000;
		}
		<!-- /*End of Patient Education Section*/ -->

		<!-- /*Errors Section*/ -->
		
		#errors .errors{
			flex-direction: column;
			text-align: center;
			max-width: 1200px;
			margin: 0 auto;
			padding: 100px 0;
			width: 100vw;
			height:100vh;
		}

		#errors .errors-bottom {
			display: flex;
			align-items: center;
			justify-content: center;
			flex-wrap: wrap;
		}

		#errors .refractive-error h2 {
			margin-bottom: 10px;
			font-family: 'Optician Sans', sans-serif;
		}

		#errors .refractive-error p {
			margin-bottom: 20px;
			font-size: 0.85rem;
		}

		#errors .refractive-error:first-child {
			margin-top: 50px;
		}

		#errors .refractive-error {
			flex-basis: 100%;
			display: flex;
			align-items: flex-start;
			justify-content: center;
			flex-direction: column;
			padding: 30px;
			border-radius: 10px;
			background-color: #F0F0F0;
			margin: 10px 5%;
			position: relative;
			z-index; 1;
			overflow: hidden;
		}

		#errors .icon {
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		
		#errors .icon_source {
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		<!-- /*End of Errors Section*/

		/*Surgeries Section*/ -->
		#surgeries .icon_source {
			display: block;
			margin-left: auto;
			margin-right: auto;
		}
		
		#surgeries .surgeries{
			flex-direction: column;
			text-align: center;
			max-width: 1200px;
			margin: 0 auto;
			padding: 100px 0;
		}

		#surgeries .surgeries-bottom {
			display: flex;
			align-items: center;
			justify-content: center;
			flex-wrap: wrap;
		}

		#surgeries .refractive-surgery h2 {
			margin-bottom: 10px;
			font-family: 'Optician Sans', sans-serif;
		}

		#surgeries .refractive-surgery p {
			margin-bottom: 20px;
			font-size: 0.85rem;
		}

		#surgeries .refractive-surgery:first-child {
			margin-top: 50px;
		}

		#surgeries .refractive-surgery {
			flex-basis: 100%;
			display: flex;
			align-items: flex-start;
			justify-content: center;
			flex-direction: column;
			padding: 30px;
			border-radius: 10px;
			background-color: #F0F0F0;
			margin: 10px 5%;
			position: relative;
			z-index; 1;
			overflow: hidden;
		}

		#surgeries .icon {
			display: block;
			margin-left: auto;
			margin-right: auto;
		}

		<!-- /*End of Surgeries Section*/

		/*Patient Decision Aid Section*/ -->
		#patientDecisionAid .patientDecisionAidContainer {
			display: flex;
			align-items: flex-start;
			text-align: left;
			flex-direction: column;
			padding: 30px;
			background-color: #F0F0F0;
			background-size: cover;
			position: relative;
			z-index; 1;
			overflow: hidden;
			padding-top: 200px;
			padding-bottom: 200px;
		}

		.patientDecisionAidContainer p {
			font-weight: 100;
			font-size: 1rem;
			font-family: 'Poppins';	
		}

		#patientDecisionAid .logo p {
			display: inline;
			vertical-align: top;
			line-height: 28px;
		}

		#patientDecisionAid .logo li a p {
			display: block;
			color: black;
		}

		#patientDecisionAid .logo li a p:hover {
			color: crimson;
			font-weight: 1000;
		}
		<!-- /*End of Patient Decision Aid Section*/

		/* History Section*/ -->
		#history .history{
			flex-direction: column;
			text-align: center;
			max-width: 1200px;
			margin: 0 auto;
			padding: 100px 0;
		}

		#history .history-bottom {
			display: flex;
			align-items: center;
			justify-content: center;
			flex-wrap: wrap;
		}

		#history .qn p {
			<!--margin-bottom: 10px;-->
			font-size: 1rem;
		}

		#history .qn2athrud, #history .qn3athrub {
			padding-left: 100px;
		}
		
		#history .qn ul li p {
			display: list-item;
			font-size: 0.9rem;
		}

		#history .qn {
			flex-basis:50.01%;
			display: flex;
			align-items: flex-start;
			justify-content: center;
			flex-direction: column;
			padding: 10px;
			border-radius: 10px;
			position: relative;
			z-index; 1;
			overflow: hidden;
		}

		#preferences {
		  display: inline-block;
		}

		#preferences label {
			float: left;
			clear: none;
			display: table;
		}

		#preferences .qn1{
			float: left;
			clear: none;
			margin: 2px 10px 0 2px;
			margin-left:26px;
		}
		
		#preferences .qn1b{
			float: left;
			clear: none;
			margin: 2px 10px 0 2px;
			margin-left:26px;
		}
		
		#preferences .qn2a{
			float: left;
			clear: none;
			margin: 2px 10px 0 2px;
			margin-left:26px;
		}

		/*<!-- #preferences .qn2b, #preferences .qn2c, #preferences .qn2d {
			float: left;
			clear: none;
			margin: 2px 10px 0 2px;
			margin-left:36px;
		} -->*/
		
		#preferences .qn3a {
			float: left;
			clear: none;
			margin: 2px 10px 0 2px;
			margin-left:26px;
		}
		
		.qn1b {
			display:none;
		}
		
		.qn2 {
			display:none;
		}
		
		.qn3a {
			display:none;
		}
		
		.qn3b {
			display:none;
			margin-left:50px;
		}
		
		#preferences .qn4{
			float: left;
			clear: none;
			margin: 2px 10px 0 2px;
			margin-left:36px;
		}
		
		.qn4{
			display: none;
			margin-left:50px;
		}

		#preferences p {
			font-weight: 100;
			font-size: 0.9rem;
			font-family: 'Poppins';
			display: block;
		}
		
		.mhsubmitted {
			display: none;
			justify-content: center;
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			font-weight: 500;		
			<!--color: green;-->
			margin-top: 10px;
		}
		
		
		<!-- /* End of History Section*/

		/*Values Section*/ -->
		#values .list {
			/*
			flex-basis: 50%;
			display: flex;
			align-items: flex-start;
			text-align: left;
			flex-direction: column;
			padding: 30px;
			border-radius: 10px;
			background-color: #F0F0F0;
			margin: 10px 5%;
			position: relative;
			z-index; 1;
			overflow: hidden;*/
			margin: 10px;
			padding: 10px;
			border-radius: 10px;
			background-color: #F0F0F0;
		}

		#values .values-bottom {
			display: grid; 
			grid-template-columns: 1fr 1fr;
			width: 100%;
		}
		
		#values .values-bottom p {
			font-size: 0.85rem;
		}

		#values .draggable {
			padding: 0.75rem;
			background-color: white;
			border: 1px solid rgba(16, 16, 16, 0.1);
			border-radius: 10px;
			cursor: move;
		}

		#values .draggable.dragging {
			opacity: 0.9;
		}
		
		.prefssubmitted {
			display: none;
			justify-content: center;
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			font-weight: 500;
			<!--color: green;-->
			margin-top: 10px;
		}
		<!-- /*End of Values Section*/

		/*Recommendations Section*/ -->
		#recs .recsContainer {
			display: flex;
			align-items: flex-start;
			text-align: left;
			flex-direction: column;
			padding: 30px;
			background-color: #F0F0F0;
			background-size: cover;
			position: relative;
			z-index; 1;
			overflow: hidden;
			padding-top: 200px;
			padding-bottom: 200px;
		}

		.recsContainer p {
			font-weight: 100;
			font-size: 1rem;
			font-family: 'Poppins';	
		}

		#recs .logo p {
			display: inline;
			vertical-align: top;
			line-height: 28px;
		}

		#recs .logo li a p {
			display: block;
			color: black;
		}

		#recs .logo li a p:hover {
			color: crimson;
			font-weight: 1000;
		}
		<!-- /*End of Recommendations Sections*/

		/*Surgery Recommendations Section*/ -->
		#surgeryrecs .disclaimers {
			color: crimson;
		}
		#surgeryrecs .disclaimer_relcontraindications {
			display: none;
		}
		
		#surgeryrecs .recommendations_table {
			border-collapse: collapse;
			margin: 25px 0;
			min-width: 600px;
			border-bottom: 1px solid #F0F0F0;
		}
		
		#surgeryrecs .recommendations_table td {
			padding: 12px 15px;
			border-bottom: 1px solid #F0F0F0;
			border-left: 1px solid #F0F0F0;
			border-top: 1px solid #F0F0F0;
		}
		
		#surgeryrecs .recommendations_table td a:hover{
			color: crimson;
			font-weight: 1000;
		}
		
		#surgeryrecs .recommendations_table tr {
			vertical-align: top;
		}
		
		#surgeryrecs .content {
			font-size: 0.5rem;
		}
		
		#surgeryrecs .coltitle p{
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
		}
		
		#surgeryrecs thead tr .coltitle {
			background-color: #F0F0F0;
			color: black;
			text-align: center;
			padding: 10px;
		}
		#surgeryrecs .bigrowtitle {
			background: #F0F0F0;
		}
		
		#surgeryrecs .bigrowtitle p{
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			vertical-align: middle;
		}
		
		#surgeryrecs .bigrowtitle li{
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			text-align: left;
			
		}
		
		#surgeryrecs .rowtitle p{
			font-size: 0.85rem;
		}
		
		#surgeryrecs .resultstip {
			text-align: center;
		}
		
		.resultstip .resultstiptext:hover a{
			color: crimson;
			font-weight: 1000;
		}
      
      /*results section*/
		.resultstip {
			position: relative;
			display: inline-block;
		}
		
		.resultstip {
			position: relative;
			display: inline-block;
		 }
		 
		.resultstip .resultstiptext {
			visibility: hidden;
			width: 250px;
			background: white;
			color: black;
			text-align: center;
			padding: 10px;
			text-align:left;
			font-size:13px;
			border:1px solid white;
			opacity:0.9;
			position: absolute;
			left:80%;
			z-index:1;
			font-family: 'Poppins';	
		}
		.resultstip:hover .resultstiptext {
			visibility: visible;
		}
		
		.resultstip .resultstiptext:hover a{
			color: crimson;
		}
		<!-- /*End of Surgery Recommendations Section*/-->
		
		#moreinfo .recommendations_table {
			border-collapse: collapse;
			margin: 25px 0;
			min-width: 600px;
			border-bottom: 1px solid #F0F0F0;
		}
		
		#moreinfo .recommendations_table td {
			padding: 12px 15px;
			border-bottom: 1px solid #F0F0F0;
			border-left: 1px solid #F0F0F0;
			border-top: 1px solid #F0F0F0;
		}
		
		#moreinfo .recommendations_table td a {
			text-decoration: underline;
		}
		
		#moreinfo .recommendations_table td a:hover{
			color: crimson;
			font-weight: 1000;
		}
		
		#moreinfo .recommendations_table tr {
			vertical-align: top;
		}
		
		#moreinfo .content {
			font-size: 0.5rem;
		}
		
		#moreinfo .coltitle p{
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
		}
		
		#moreinfo thead tr .coltitle {
			background-color: #F0F0F0;
			color: black;
			text-align: center;
			padding: 10px;
		}
		#moreinfo .bigrowtitle {
			background: #F0F0F0;
		}
		
		#moreinfo .bigrowtitle p{
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			vertical-align: middle;
		}
		
		#moreinfo .bigrowtitle li{
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			text-align: left;
			
		}
		
		#moreinfo .rowtitle p{
			font-size: 0.85rem;
		}

		<!-- /*Surgeon Recommendations Section*/ -->		
		#surgeonrecs .LASIK_surgeons {
			display: none;
		}
		#surgeonrecs .PRK_surgeons {
			display: none;
		}
		#surgeonrecs .IOL_surgeons {
			display: none;
		}
		#surgeonrecs .none_surgeons {
			display: none;
		}
		#surgeonrecs .surgeon h2 {
			margin-top: 50px;
			margin-bottom: 10px;
			font-family: 'Optician Sans', sans-serif;
		}
		<!-- /*End of Surgeon Recommendations Section*/-->
		.submittedMsg_mh {
			display: none;
			justify-content: center;
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			font-weight: 500;
			<!--color: green;-->
			margin-bottom: 10px;
		}
		
		.submittedMsg_prefs {
			display: none;
			justify-content: center;
			font-family: 'Optician Sans', sans-serif;
			font-size: 1rem;
			font-weight: 500;
			<!--color: green;-->
			margin-bottom: 10px;
		}
		
		input.submitBtn {
		  text-decoration: none;
		  display: inline-block;
		  padding: 8px 16px;
		}

		input.submitBtn:hover {
		  background-color: black;
		  color: white;
		}

		.submitBtn { 
			background: white;
			font-size: 1rem;
			font-family: 'Optician Sans', sans-serif;
			border: 1px solid black;
			margin-bottom: 15px;
		}

		.submitNav {
		   display: flex;
		   justify-content: center;
		   margin: 10px;
		}
		
		.submitNav_1 {
		   display: none;
		   justify-content: center;
		   margin: 10px;
		}
		  
		<!--/*pageNav Section*/ -->
		a.next, a.back {
		  text-decoration: none;
		  display: inline-block;
		  padding: 8px 16px;
		}

		a.next:hover, a.back:hover {
		  background: lightslategray;
		}

		.back, .next {
		  background-color: black;
		  color: white;
		}

		.round {
		  border-radius: 50%;
		}

		.pageNav {
		   /*display: block;*/
		   display: flex;
		   justify-content: center;
		   margin: 10px;
		   /*position: absolute;
		   left: 50%;
		   top: 100%;*/
		}
		
		.pageNav_home {
		   display: flex;
		   justify-content: center;
		   margin: 10px;
		   position: absolute;
		   left: 50%;
		   top: 80%;
		}
		
		#patientEdu {
			display: none;
		}
		
		#errors {
			display: none;
		}
		
		#surgeries {
			display: none;
		}
		
		#patientDecisionAid{
			display: none;
		}
		
		#history{
			display: none;
		}
		
		#values {
			display: none;
		}
		
		#recs{
			display: none;
		}
		
		#surgeryrecs{
			display: none;
		}
		
		#moreinfo {
			display: none;
		}
		
		#surgeonrecs{
			display: none;
		}
		
		<!--  /*End of pageNav Section*/ -->

		@media(max-width: 800px) {
			nav .mainMenu {
				height: 100vh;
				position: fixed;
				top: 0;
				right: 0;
				left: 0;
				z-index: 10;
				flex-direction: column;
				align-items: center;
				background: white;
				transition: right 3s;
				display: none;
				padding-top: 33%;
				padding-bottom: 33%;
			}
			
			nav .mainMenu .closeMenu {
				display: block;
				position: absolute;
				top: 20px;
				right: 20px;
			}
			
			nav .openMenu {
				display: block;
			}
				
			nav .mainMenu li a:hover {
				background: none;
				color: crimson;
				font-size: 1.6rem;
			}
			
		}
	</style>

	<script>
		// <!-- Initializing variables -->
		var modalities = {
			LASIK: 0,
			PRK: 0,
			IOL: 0
		};
		
		var hyperopia = false;
		var mixed_astigmatism_R = false;
		var mixed_astigmatism_L = false;
		
		var diagnosis_R = "";
		var diagnosis_L = "";
		
		var RS_neg = -100;
		var RC_neg = -100;
		var Raxis_neg = -100;
		var LS_neg = -100;
		var LC_neg = -100;
		var Laxis_neg = -100;
		
		var RS_pos = -100;
		var RC_pos = -100;
		var Raxis_pos = -100;
		var LS_pos = -100;
		var LC_pos = -100;
		var Laxis_pos = -100; 
		
		var right_meets = false;
		var left_meets = false;
		
		var med_data_filled = false;
		var justification_statement = "";
		var new_justification_statement = "";
		
		function hideDivByClass(class_name) {
			<!-- console.log("class_name: " + class_name); -->
			for (let i = 0; i < document.getElementsByClassName(class_name).length; i++) {
				<!-- console.log("display style before: " + document.getElementsByClassName(class_name)[i].style.display); -->
				document.getElementsByClassName(class_name)[i].style.display="none";
				<!-- console.log("display style after: " + document.getElementsByClassName(class_name)[i].style.display); -->
			}
		}
	
		function showDivByClass(class_name) {
			<!-- console.log("class_name: " + class_name); -->
			for (let i = 0; i < document.getElementsByClassName(class_name).length; i++) {
				<!-- console.log("display style before: " + document.getElementsByClassName(class_name)[i].style.display); -->
				document.getElementsByClassName(class_name)[i].style.display="flex";
				<!-- console.log("display style after: " + document.getElementsByClassName(class_name)[i].style.display); -->
			}
		}
		
		function showDivbyID(id) {
			<!-- console.log("id: " + id); -->
			<!-- console.log("display style before: " + document.getElementById(id).style.display); -->
			document.getElementById(id).style.display="flex";
			<!-- console.log("display style after: " + document.getElementById(id).style.display); -->
		}
		
		function hideDivbyID(id) {
			<!-- console.log("id: " + id); -->
			<!-- console.log("display style before: " + document.getElementById(id).style.display); -->
			document.getElementById(id).style.display="none";
			<!-- console.log("display style after: " + document.getElementById(id).style.display); -->
		}
		
		function errorMessage(eye) {
			<!-- console.log("entering errorMessage(eye)"); -->
			if(eye.localeCompare('right') == 0) {
				<!-- console.log("eye: " + eye);
				 -->console.log("RC: " + document.getElementById('prescription_RC').value);
				if (!(document.getElementById('prescription_Raxis').value == "") && document.getElementById('prescription_RC').value == "") {
					alert("Please enter your right cylindrical component.");
				}
			}
			else if(eye.localeCompare('left') == 0) {
				<!-- console.log("eye: " + eye); -->
				<!-- console.log("LC: " + document.getElementById('prescription_LC').value); -->
				if (!(document.getElementById('prescription_Laxis').value == "") && document.getElementById('prescription_LC').value == "") {
					alert("Please enter your left cylindrical component.");
				}
			}
			else{}
		}
		
		function removeModality(modality) {
			console.log("entering removeModality(modality)");
				
			if (modality in modalities) {
				console.log("removing modality: " + modality);
				delete(modalities[modality]);
				console.log("modality removed.");
				console.log("keys left: " + Object.keys(modalities));
			}
			else {
				console.log("modality had been previously deleted");
			}
		}
		
		function addValueByIdByModality(modality, id) {
			console.log("entering addValueByIdByModality(modality, id)");
			console.log("id: " + id);
			
			if ("LASIK" in modalities && modality.localeCompare("LASIK") == 0) {
				console.log("add " + parseFloat(document.getElementById(id).value) + " to LASIK");
				console.log("LASIK: " + parseFloat(modalities.LASIK));
				modalities.LASIK = parseFloat(modalities.LASIK) + parseFloat(document.getElementById(id).value);
				console.log("LASIK: " + parseFloat(modalities.LASIK));
			}
			if ("PRK" in modalities && modality.localeCompare("PRK") == 0) {
				console.log("add " + document.getElementById(id).value + " to PRK");
				console.log("PRK: " +  modalities.PRK);
				modalities.PRK =  parseFloat(modalities.PRK) + parseFloat(document.getElementById(id).value);
				console.log("PRK: " +  modalities.PRK);
			}
			if ("IOL" in modalities && modality.localeCompare("IOL") == 0) {
				console.log("add " + document.getElementById(id).value + " to IOL");
				console.log("IOL: " +  modalities.IOL);
				modalities.IOL =  parseFloat(modalities.IOL) + parseFloat(document.getElementById(id).value);
				console.log("IOL: " +  modalities.IOL);
			}
		}
		
		function addValueByIdToAllModalities(id) {
			console.log("entering addValueByIdToAllModalities(id)");
			console.log("id: " + id);
			
			if ("LASIK" in modalities) {
				console.log("add " + document.getElementById(id).value + " to LASIK");
				console.log("LASIK: " + modalities.LASIK);
				modalities.LASIK = parseFloat(modalities.LASIK) + parseFloat(document.getElementById(id).value);
				console.log("LASIK: " + modalities.LASIK);
			}
			
			if ("PRK" in modalities) {
				console.log("add " + document.getElementById(id).value + " to PRK");
				console.log("PRK: " + modalities.PRK);
				modalities.PRK = parseFloat(modalities.PRK) + parseFloat(document.getElementById(id).value);
				console.log("PRK: " + modalities.PRK);
			}
			
			if ("IOL" in modalities) {
				console.log("add " + document.getElementById(id).value + " to IOL");
				console.log("IOL: " + modalities.IOL);
				modalities.IOL = parseFloat(modalities.IOL) + parseFloat(document.getElementById(id).value);
				console.log("IOL: " + modalities.IOL);
			}
		}		
		
		function spherical_equivalent(spherical, cylindrical) {
			let se = spherical + (0.5 * cylindrical);
			return se;
		}
		
		function LASIKLasers_myopiaastigmatism(eye) {
			if (eye.localeCompare("right") == 0) {
				//<!--Abbott Medical Optics (VISX Star S2)-->
				if (((RS_neg < 0.00 && RS_neg > -14.00) && ((RC_neg == 0.00) || (RC_neg <= -0.50 && RC_neg >= -5.00))) ||
				//<!--Abbott Medical Optics (VISX Star S3, Eye Tracker)-->	
				((RS_neg < 0.00 && RS_neg > -14.00) && (RC_neg <= 0.50 && RC_neg >= -5.00)) ||
				//<!--Alcon (Apex Plus)-->
				((RS_pos < 0.00 && RS_pos > -14.00) && ((RC_pos >= 0.50 && RC_pos <= 5.00) || (RC_pos == 0.00))) ||
				//<!--Alcon (LADARVision)-->
				((RS_neg < 0.00 && RS_neg > -9.00) && ((RS_neg <= -0.50 && RS_neg >= -3.00) || (RS_neg == 0.00))) ||
				//<!--Alcon (LADARVision) wavefront-guided-->
				((RS_neg < 0.00 && RS_neg > -8.00) && (RC_neg <= -0.50 && RC_neg >= -4.00) && (spherical_equivalent(RS_neg, RC_neg) >= -8.00 && spherical_equivalent(RS_neg, RC_neg) < 0.00)) ||
				//<!--Alcon (WaveLight ALLEGRETTO WAVE)-->
				((RS_neg < 0.00 && RS_neg >= -12.00) && (RC_neg >= -6.00 && RC_neg <= 0.00)) ||
				//<!--Alcon (WaveLight ALLEGRETTO WAVE) wavefront-guided-->
				((RS_pos < 0.00 && RS_pos >= -7.00) && (RC_pos >= 0.00 && RC_pos <= 3.00)) ||
				//<!--Carl Zeiss Meditec (MEL80)-->
				((RS_neg < 0.00 && RS_neg >= -7.00) && (RC_neg <= 0.00 && RC_neg >= -3.00)) ||
				//<!--Nidek EC-5000)-->
				((RS_neg <= -1.00 && RS_neg >= -14.00) && (RC_neg <= 0.00 && RC_neg >= -4.00)) ||
				//<!--Technolas Perfect Vision GmbH (Tehcnolas 217a)-->
				((RS_neg < 0.00 && RS_neg > -11.00) && (RC_neg <= 0.00 && RC_neg > -3.00)) ||
				//<!--Technolas Perfect Vision GmbH (Technolas 217z) wavefront-guided-->
				((RS_neg < 0.00 && RS_neg >= -7.00) && (RC_neg <= 0.00 && RC_neg >= -3.00)) ||
				//<!--VISX Inc. (VISX Star S4 & WaveScan WaveFront System) wavefront-guided-->
				((RS_neg <= -6.00 && RS_neg >= -11.00) && (RC_neg <= 0.00 && RC_neg >= -3.00))) {
					console.log("prescription meets LASIK parameters.");
				}
				else {
					console.log("prescription does not meet LASIK parameters.");
					removeModality("LASIK");
				}
			}
			else if (eye.localeCompare("left") == 0) {
				//<!--Abbott Medical Optics (VISX Star S2)-->
				if (((LS_neg < 0.00 && LS_neg > -14.00) && ((LC_neg == 0.00) || (LC_neg <= -0.50 && LC_neg >= -5.00))) ||
				//<!--Abbott Medical Optics (VISX Star S3, Eye Tracker)-->	
				((LS_neg < 0.00 && LS_neg > -14.00) && (LC_neg <= 0.50 && LC_neg >= -5.00)) ||
				//<!--Alcon (Apex Plus)-->
				((LS_pos < 0.00 && LS_pos > -14.00) && ((LC_pos >= 0.50 && LC_pos <= 5.00) || (LC_pos == 0.00))) ||
				//<!--Alcon (LADARVision)-->
				((LS_neg < 0.00 && LS_neg > -9.00) && ((LC_neg <= -0.50 && LC_neg >= -3.00) || (LS_neg == 0.00))) ||
				//<!--Alcon (LADARVision) wavefront-guided-->
				((LS_neg < 0.00 && LS_neg > -8.00) && (LC_neg <= -0.50 && LC_neg >= -4.00) && (spherical_equivalent(LS_neg, LC_neg) >= -8.00 && spherical_equivalent(LS_neg, LC_neg) < 0.00)) ||
				//<!--Alcon (WaveLight ALLEGRETTO WAVE)-->
				((LS_neg < 0.00 && LS_neg >= -12.00) && (LC_neg >= -6.00 && LC_neg <= 0.00)) ||
				//<!--Alcon (WaveLight ALLEGRETTO WAVE) wavefront-guided-->
				((LS_pos < 0.00 && LS_pos >= -7.00) && (LC_pos >= 0.00 && LC_pos <= 3.00)) ||
				//<!--Carl Zeiss Meditec (MEL80)-->
				((LS_neg < 0.00 && LS_neg >= -7.00) && (LC_neg <= 0.00 && LC_neg >= -3.00)) ||
				//<!--Nidek EC-5000)-->
				((LS_neg <= -1.00 && LS_neg >= -14.00) && (LC_neg <= 0.00 && LC_neg >= -4.00)) ||
				//<!--Technolas Perfect Vision GmbH (Tehcnolas 217a)-->
				((LS_neg < 0.00 && LS_neg > -11.00) && (LC_neg <= 0.00 && LC_neg > -3.00)) ||
				//<!--Technolas Perfect Vision GmbH (Technolas 217z) wavefront-guided-->
				((LS_neg < 0.00 && LS_neg >= -7.00) && (LC_neg <= 0.00 && LC_neg >= -3.00)) ||
				//<!--VISX Inc. (VISX Star S4 & WaveScan WaveFront System) wavefront-guided-->
				((LS_neg <= -6.00 && LS_neg >= -11.00) && (LC_neg <= 0.00 && LC_neg >= -3.00))) {
					console.log("prescription meets LASIK parameters.");
				}
				else {
					console.log("prescription does not meet LASIK parameters.");
					removeModality("LASIK");
				}
			}
		}
		
		function LASIKLasers_hyperopiaastigmatism(eye) {
			if (eye.localeCompare("right") == 0) {
				//<!--Abbott Medical Optics-->
				if (((RS_pos <= 5.00 && RS_pos >= 0.50) && (RC_pos <= 3.00 && RC_pos >= 0.00)) ||
				//<!--Alcon (LADARVision)-->
				((RS_neg < 6.00 && RS_neg > 0.00) && (RC_neg <= 0.00 && RC_neg > -6.00)) ||
				//<!--Alcon (LADARVision) wavefront-guided-->
				((RS_neg < 5.00 && RS_neg > 0.00) && (RC_neg <= 0.00 && RC_neg > -3.00)) ||
				//<!--Alcon (WaveLight ALLEGRETTO WAVE)-->
				((RS_pos <= 6.00 && RS_pos > 0.00) && (RC_pos <= 5.00 && RC_pos >= 0.00)) ||
				//<!--TODO: Carl Zeiss Meditec (MEL80)-->
				((RS_pos <= 5.00 && RS_pos > 0.00) && ((RC_pos <= 3.00 && RC_pos > 0.50) || RC_pos == 0) && (spherical_equivalent(RS_pos, RC_pos) <= 5.00 && spherical_equivalent(RS_pos, RC_pos) >= 0.00)) ||
				//<!--Nidek EC-5000)-->
				((RS_pos <= 5.00 && RS_pos >= 0.50) && ((RC_pos <= 2.00 && RC_pos >= 0.50) || (RC_pos == 0.00))) ||
				//<!--Technolas Perfect Vision GmbH (Tehcnolas 217a)-->
				((RS_pos <= 4.00 && RS_pos >= 1.00) && (RC_pos <= 2.00 && RC_pos >= 0.00)) ||
				//<!--VISX Inc. (VISX Star S4 & WaveScan WaveFront System) wavefront-guided-->
				((RS_pos <= 3.00 && RS_pos >= 0.00) && (RC_pos <= 2.00 && RC_pos >= 0.00))) {
					console.log("prescription meets LASIK parameters.");
				}
				else {
					console.log("prescription does not meet LASIK parameters.");
					removeModality("LASIK");
				}
			}
			else if (eye.localeCompare("left") == 0) {
				//<!--Abbott Medical Optics-->
				if (((LS_pos <= 5.00 && LS_pos >= 0.50) && (LC_pos <= 3.00 && LC_pos >= 0.00)) ||
				//<!--Alcon (LADARVision)-->
				((LS_neg < 6.00 && LS_neg > 0.00) && (LC_neg <= 0.00 && LC_neg > -6.00)) ||
				//<!--Alcon (LADARVision) wavefront-guided-->
				((LS_neg < 5.00 && LS_neg > 0.00) && (LC_neg <= 0.00 && LC_neg > -3.00)) ||
				//<!--Alcon (WaveLight ALLEGRETTO WAVE)-->
				((LS_pos <= 6.00 && LS_pos > 0.00) && (LC_pos <= 5.00 && LC_pos >= 0.00)) ||
				//<!--TODO: Carl Zeiss Meditec (MEL80)-->
				((LS_pos <= 5.00 && LS_pos > 0.00) && ((LC_pos <= 3.00 && LC_pos > 0.50) || LC_pos == 0) && (spherical_equivalent(LS_pos, LC_pos) <= 5.00 && spherical_equivalent(LS_pos, LC_pos) >= 0.00)) ||
				//<!--Nidek EC-5000)-->
				((LS_pos <= 5.00 && LS_pos >= 0.50) && ((LC_pos <= 2.00 && LC_pos >= 0.50) || (LC_pos == 0.00))) ||
				//<!--Technolas Perfect Vision GmbH (Tehcnolas 217a)-->
				((LS_pos <= 4.00 && LS_pos >= 1.00) && (LC_pos <= 2.00 && LC_pos >= 0.00)) ||
				//<!--VISX Inc. (VISX Star S4 & WaveScan WaveFront System) wavefront-guided-->
				((LS_pos <= 3.00 && LS_pos >= 0.00) && (LC_pos <= 2.00 && LC_pos >= 0.00))) {
					console.log("prescription meets LASIK parameters.");
				}
				else {
					console.log("prescription does not meet LASIK parameters.");
					removeModality("LASIK");
				}
			}
		}
		
		
		function LASIKLasers_mixedastigmatism(eye) {
			if (eye.localeCompare("right") == 0) {
				//<!--Abbott Medical Optics (VISX Star S3, Eye Tracker) && Alcon (WaveLight ALLEGRETTO WAVE)-->	
				if (((RS_pos <= 0.00 && RS_pos >= -6.00) && (RC_pos <= 6.00 && RC_pos >= 0.00)) ||
				//Alcon (LADARVision)
				((RS_neg <= 6.00 && RS_neg >= 0.00) && (RC_neg <= 0.00 && RC_neg >= -6.00)) ||
				//Alcon (LADARVision) wave-front guided  && VISX Inc. (VISX Star S4 & WaveScan WaveFront System) wavefront-guided
				((RS_pos >= 1.00 && RS_pos <= 5.00) && (RC_pos <= -1.00 && RC_pos >= -5.00))) {
					console.log("prescription meets LASIK parameters.");
				}
				else {
					console.log("prescription does not meet LASIK parameters.");
					removeModality("LASIK");
				}
			}
			else if (eye.localeCompare("left") == 0) {
				//<!--Abbott Medical Optics (VISX Star S3, Eye Tracker) && Alcon (WaveLight ALLEGRETTO WAVE)-->	
				if (((LS_pos <= 0.00 && LS_pos >= -6.00) && (LC_pos <= 6.00 && LC_pos >= 0.00)) ||
				//Alcon (LADARVision)
				((LS_neg <= 6.00 && LS_neg >= 0.00) && (LC_neg <= 0.00 && LC_neg >= -6.00)) ||
				//Alcon (LADARVision) wave-front guided  && VISX Inc. (VISX Star S4 & WaveScan WaveFront System) wavefront-guided
				((LS_pos <= -1.00 && LS_pos >= -5.00) && (LC_pos >= 1.00 && LC_pos <= 5.00))) {
					console.log("prescription meets LASIK parameters.");
				}
				else {
					console.log("prescription does not meet LASIK parameters.");
					removeModality("LASIK");
				}
			}
		}
		
		function PRKLasers_myopiaastigmatism(eye) {
			if (eye.localeCompare("right") == 0) {
				//Abbott Medical Optics (VISX Model B & C [Star & Star S2])
				if (((RS_neg <= 0.00 && RS_neg >= -12.00) && (RC_neg <= 0.00 && RC_neg >= -4.00)) ||
				//Alcon (SVS Apex & Apex Plus)
				(RS_neg <= -1.50 && RS_neg >= -7.00) ||
				//<!--Alcon (SVS Apex & Apex Plus Workstation)-->
				((RS_neg <= -1.00 && RS_neg >= -6.00) && ((RC_neg == 0) || (RC_neg <= -1.00 && RC_neg >= -4.00))) ||
				//Alcon (LADARVision)
				((RS_neg <= -1.00 && RS_neg >= -10.00) && (RC_neg <= 0.00 && RC_neg >= -4.00)) ||
				//Bausch & Lomb Surgical (KERACOR 116)
				((RS_neg <= -1.50 && RS_neg >= -7.00) && (RC_neg <= 0.00 && RC_neg > -4.50)) ||
				//Nidek EC-5000
				(((RS_neg <= -0.75 && RS_neg >= -13.00) && (RC_neg <= 0.00 && RC_neg >= -0.75)) || ((RS_neg <= -1.00 && RS_neg >= -8.00) && (RC_neg <= -0.50 && RC_neg >= -4.00)))) {
					console.log("prescription meets PRK parameters.");
				}
				else {
					console.log("prescription does not meet PRK parameters.");
					removeModality("PRK");
				}
			}
			else if (eye.localeCompare("left") == 0) {
				//Abbott Medical Optics (VISX Model B & C [Star & Star S2])
				if (((LS_neg <= 0.00 && LS_neg >= -12.00) && (LC_neg <= 0.00 && LC_neg >= -4.00)) ||
				//Alcon (SVS Apex & Apex Plus)
				(LS_neg <= -1.50 && LS_neg >= -7.00) ||
				//<!--Alcon (SVS Apex & Apex Plus Workstation)-->
				((LS_neg <= -1.00 && LS_neg >= -6.00) && ((LC_neg == 0) || (LC_neg <= -1.00 && LC_neg >= -4.00))) ||
				//Alcon (LADARVision)
				((LS_neg <= -1.00 && LS_neg >= -10.00) && (LC_neg <= 0.00 && LC_neg >= -4.00)) ||
				//Bausch & Lomb Surgical (KERACOR 116)
				((LS_neg <= -1.50 && LS_neg >= -7.00) && (LC_neg <= 0.00 && LC_neg > -4.50)) ||
				//Nidek EC-5000
				(((LS_neg <= -0.75 && LS_neg >= -13.00) && (LC_neg <= 0.00 && LC_neg >= -0.75)) || ((LC_neg <= -1.00 && LC_neg >= -8.00) && (LC_neg <= -0.50 && LC_neg >= -4.00)))) {
					console.log("prescription meets PRK parameters.");
				}
				else {
					console.log("prescription does not meet PRK parameters.");
					removeModality("PRK");
				}
			}
		}
		
		function PRKLasers_hyperopiaastigmatism(eye) {
			if (eye.localeCompare("right") == 0) {
				//<!--Abbott Medical Optics (VISX Star S2)-->
				if((RS_pos <= 6.00 && RS_pos >= 1.00) ||
				//<!--Abbott Medical Optics (VISX Star S2/S3)-->
				((RS_pos <= 5.00 && RS_pos >= 0.50) && ((RC_pos <= 4.00 && RC_pos >= 0.50) || (RC_pos == 0.00))) ||
				//<!--Alcon (SVS Apex & Apex Plus Workstation)-->
				((RC_neg <= 4.00 && RC_neg >= 1.50) && (RC_neg <= 0.00 && RC_neg >= -1.00))) {
					console.log("prescription meets PRK parameters.");
				}
				else {
					console.log("prescription does not meet PRK parameters.");
					removeModality("PRK");
				}
			}
			else if (eye.localeCompare("left") == 0) {
				//<!--Abbott Medical Optics (VISX Star S2)-->
				if((LS_pos <= 6.00 && LS_pos >= 1.00) ||
				//<!--Abbott Medical Optics (VISX Star S2/S3)-->
				((LS_pos <= 5.00 && LS_pos >= 0.50) && ((LC_pos <= 4.00 && LC_pos >= 0.50) || (LC_pos == 0.00))) ||
				//<!--Alcon (SVS Apex & Apex Plus Workstation)-->
				((LC_neg <= 4.00 && LC_neg >= 1.50) && (LC_neg <= 0.00 && LC_neg >= -1.00))) {
					console.log("prescription meets PRK parameters.");
				}
				else {
					console.log("prescription does not meet PRK parameters.");
					removeModality("PRK");
				}
			}
		}
		
		function PRKLasers_mixedastigmatism(eye) {
			if (eye.localeCompare("right") == 0) {
				//Abbott Medical Optics (VISX Star S4 & WaveScan WaveFront System) wavefront-guided && Alcon (LADARVision) wavefront-guided
				if (((RS_pos >= 1.00 && RS_pos <= 5.00) && (RC_pos <= -1.00 && RC_pos >= -5.00)) ||
				//Alcon (LADARVision)
				((RS_neg <= 6.00 && RS_neg >= 0.00) && (RC_neg <= 0.00 && RC_neg >= -6.00)) ||
				//Alcon (WaveLight ALLEGRETTO WAVE)
				((RS_pos <= 0.00 && RS_pos >= -6.00) && (RC_pos <= 6.00 && RC_pos >= 0.00))) {
					console.log("prescription meets PRK parameters.");
				}
				else {
					console.log("prescription does not meet PRK parameters.");
					removeModality("PRK");
				}
			}
			else if (eye.localeCompare("left") == 0) {
				if (((LS_pos >= 1.00 && LS_pos <= 5.00) && (LC_pos <= -1.00 && LC_pos >= -5.00)) ||
				((LS_neg <= 6.00 && LS_neg >= 0.00) && (LC_neg <= 0.00 && LC_neg >= -6.00)) ||
				((LS_pos <= 0.00 && LS_pos >= -6.00) && (LC_pos <= 6.00 && LC_pos >= 0.00))) {
					console.log("prescription meets PRK parameters.");
				}
				else {
					console.log("prescription does not meet PRK parameters.");
					removeModality("PRK");
				}
			}
		}
		
		//which cylinders to use?
		<!-- check whether vision can be corrected by IOL implantation-->
		function IOL(eye) {
			if (eye.localeCompare("right") == 0) {
				//<!--Visian ICL-->
				if((((RS_pos >= -15.00 && RS_pos <= -3.00) && (RC_pos >= 0.00 && RC_pos <= 2.50)) || 
				((RS_pos >= -20.00 && RS_pos <= -15.00) && (RC_pos >= 0.00 && RC_pos <= 2.50))) ||
				//<!--Artisan Phakic IOL-->
				((RS_pos >= -20.00 && RS_pos <= -5.00) && (RC_pos >= 0.00 && RC_pos <= 2.50))){
					console.log("prescription meets IOL parameters.");
					if (spherical_equivalent(RS_pos, RC_pos) <= -6.00 && (LS_pos == 0.00 && LC_pos == 0.00)) {
						if("IOL" in modalities) {
							console.log("IOL: " + modalities.IOL);
							console.log("add 12 to IOL");
							modalities.IOL = parseFloat(modalities.IOL) + parseFloat(12);
							console.log("IOL: " + modalities.IOL);
							new_justification_statement = "<p>•	 Your prescription indicates that you have High Myopia. Phakic IOLs are better suited for patients with High Myopia. This has been reflected in your recommendation. </p>";
							if (!justification_statement.includes(`${new_justification_statement}`)) {
								justification_statement += new_justification_statement;
							}
						}
					}
				}
				else {
					console.log("prescription does not meet IOL parameters.");
					removeModality("IOL");
				}
			}
			if (eye.localeCompare("left") == 0) {
				//<!--Visian ICL-->
				if((((LS_pos >= -15.00 && LS_pos <= -3.00) && (LC_pos >= 0.00 && LC_pos <= 2.50)) || 
				((LS_pos >= -20.00 && LS_pos <= -15.00) && (LC_pos >= 0.00 && LC_pos <= 2.50))) ||
				//<!--Artisan Phakic IOL-->
				((LS_pos >= -20.00 && LS_pos <= -5.00) && (LC_pos >= 0.00 && LC_pos <= 2.50))){
					console.log("prescription meets IOL parameters.");
					if (spherical_equivalent(RS_pos, RC_pos) <= -6.00 || spherical_equivalent(LS_pos, LC_pos) <= -6.00) {
						if("IOL" in modalities) {
							console.log("IOL: " + modalities.IOL);
							console.log("add 12 to IOL");
							modalities.IOL = parseFloat(modalities.IOL) + parseFloat(12);
							console.log("IOL: " + modalities.IOL);
							new_justification_statement = "<p>•	 Your prescription indicates that you have High Myopia. Phakic IOLs are better suited for patients with High Myopia. This has been reflected in your recommendation. </p>";
							if (!justification_statement.includes(`${new_justification_statement}`)) {
								justification_statement += new_justification_statement;
							}						}
					}
				}
				else {
					console.log("prescription does not meet IOL parameters.");
					removeModality("IOL");
				}
			}
		}
		
		function set_prescription(Sid, Cid, Axisid) {
			<!-- console.log("entering set_prescription"); -->
			let spherical = 0.00;
			let cylindrical = 0.00;
			let axis = 0;
			
			<!-- console.log("Sid: " + Sid); -->
			spherical = document.getElementById(Sid).value;
			<!-- console.log("spherical: " + spherical); -->
			
			<!-- console.log("Cid: " + Cid); -->
			if (document.getElementById(Cid).value == "") {
				cylindrical = 0.00;
			}
			else {
				cylindrical = document.getElementById(Cid).value;
			}
			<!-- console.log("cylindrical: " + cylindrical); -->
			
			<!-- console.log("Axisid: " + Axisid); -->
			if (document.getElementById(Axisid).value == "") {
				axis = 0;
			}
			else {
				axis = document.getElementById(Axisid).value;
			}
			<!-- console.log("axis: " + axis); -->
			return [spherical, cylindrical, axis];
		}
		
		function convert_prescription(spherical, cylindrical, axis) {
			/*console.log("entering convert_prescription(spherical, cylindrical, axis)");
			console.log("spherical: " + spherical);
			console.log("cylindrical: " + cylindrical);
			console.log("axis: " + axis);*/
			
			spherical = parseFloat(spherical) + parseFloat(cylindrical);
			<!-- console.log("spherical: " + spherical); -->
			
			if (cylindrical != 0.00) {
				cylindrical = parseFloat(cylindrical) * -1;
			}
			<!-- console.log("cylindrical: " + cylindrical); -->
			
			if (axis > 90) {
				axis = parseFloat(axis) - 90;
			}
			else {
				axis = parseFloat(axis) + 90;
			}
			<!-- console.log("axis: " + axis); -->
			
			return [spherical, cylindrical, axis];
		}
		
		function typeofRE() {
			console.log("entering typeofRE()");
			
			//if astigmatism in right eye
			if (RC_neg != 0) {
				console.log("right eye");
				//if mixed astigmatism
				if (((RC_neg > 0 && RS_neg < 0) ||
				(RC_neg < 0 && RS_neg > 0)) &&
				(Math.abs(RC_neg) > Math.abs(RS_neg))) {
					<!-- console.log("mixed_astigmatism_R: " + mixed_astigmatism_R); -->
					mixed_astigmatism_R = true;
					console.log("mixed_astigmatism_R: " + mixed_astigmatism_R);
					
					if ("LASIK" in modalities) {
						LASIKLasers_mixedastigmatism("right");
					}
					
					if ("PRK" in modalities) {
						PRKLasers_mixedastigmatism("right");
					}
					
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Mixed Astigmatism. Phakic IOLs are not indicated for patients with Mixed Astigmatism. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement
					}
				}
				//if regular astigmatism
				else {
					console.log("astigmatism");
					
					if (RS_neg < 0) {
						console.log("myopic astigmatism");
						diagnosis_R = "myopic astigmatism";
						
						if ("LASIK" in modalities) {
							LASIKLasers_myopiaastigmatism("right");
						}
						
						if ("PRK" in modalities) {
							PRKLasers_myopiaastigmatism("right");
						}
						if ("IOL" in modalities) {
							IOL("right");
						}
					}
					else if (RS_neg > 0) {
						console.log("hyperopic astigmatism");
						diagnosis_R = "hyperopic astigmatism";
						
						if ("LASIK" in modalities) {
							LASIKLasers_hyperopiaastigmatism("right");
						}
						
						if ("PRK" in modalities) {
							PRKLasers_hyperopiaastigmatism("right");
						}
						
						removeModality("IOL");
						hideDivByClass("myope_only");
						new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
						if (!justification_statement.includes(`${new_justification_statement}`)) {
							justification_statement += new_justification_statement;
						}
					}
					else { //RS_neg == 0
						if (RS_pos > 0) {
							console.log("no power, astigmatic. hyperopic astigmatism.");
							LASIKLasers_hyperopiaastigmatismpiaastigmatism("right");
							PRKLasers_hyperopiaastigmatism("right");
							removeModality("IOL");
							hideDivByClass("myope_only");
							new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
							if (!justification_statement.includes(`${new_justification_statement}`)) {
								justification_statement += new_justification_statement;
							}
						}
						if (RS_pos < 0){
							console.log("no power, astigmatic. myopic astigmatism.");
							LASIKLasers_myopiaastigmatism("right");
							PRKLasers_myopiaastigmatism("right");
							IOL("right");
						}
					}
				}
			}
			
			//if astigmatism in left eye
			if (LC_neg != 0) {
				console.log("left eye");
				//if mixed astigmatism
				if (((LC_neg > 0 && LS_neg < 0) ||
				(LC_neg < 0 && LS_neg > 0)) &&
				(Math.abs(LC_neg) > Math.abs(LS_neg))) {
					<!-- console.log("mixed_astigmatism_L: " + mixed_astigmatism_L); -->
					mixed_astigmatism_L = true;
					console.log("mixed_astigmatism_L: " + mixed_astigmatism_L);
					
					if ("LASIK" in modalities) {
						LASIKLasers_mixedastigmatism("left");
					}
					
					if ("PRK" in modalities) {
						PRKLasers_mixedastigmatism("left");
					}
					
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Mixed Astigmatism. Phakic IOLs are not indicated for patients with Mixed Astigmatism. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
				//if regular astigmatism
				else {
					console.log("astigmatism");
					
					if (LS_neg < 0) {
						console.log("myopic astigmatism");
						diagnosis_L = "myopic astigmatism";
						
						if ("LASIK" in modalities) {
							LASIKLasers_myopiaastigmatism("left");
						}
						
						if ("PRK" in modalities) {
							PRKLasers_myopiaastigmatism("left");
						}
						
						if ("IOL" in modalities) {
							IOL("left");
						}
					}
					else if (LS_neg > 0) {
						console.log("hyperopic astigmatism");
						diagnosis_L = "hyperopic astigmatism";
						
						if ("LASIK" in modalities) {
							LASIKLasers_hyperopiaastigmatism("left");
						}
						
						if ("PRK" in modalities) {
							PRKLasers_hyperopiaastigmatism("left");
						}
						
						removeModality("IOL");
						hideDivByClass("myope_only");
						new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
						if (!justification_statement.includes(`${new_justification_statement}`)) {
							justification_statement += new_justification_statement;
						}
					}
					else { //LS_neg == 0
						if (LS_pos > 0) {
							console.log("no power, astigmatic. hyperopic astigmatism.");
							LASIKLasers_hyperopiaastigmatismpiaastigmatism("left");
							PRKLasers_hyperopiaastigmatism("left");
							removeModality("IOL");
							hideDivByClass("myope_only");
							justification_statement = justification_statement + "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
							if (!justification_statement.includes(`${new_justification_statement}`)) {
								justification_statement += new_justification_statement;
							}
						}
						if (LS_pos < 0){
							console.log("no power, astigmatic. myopic astigmatism.");
							LASIKLasers_myopiaastigmatism("left");
							PRKLasers_myopiaastigmatism("left");
							IOL("left");
						}
					}
				}
			}
			
			//if no astigmatism
			if (RC_neg == 0 && LC_neg == 0) {
				if (RS_neg < 0) {
					console.log("myopic");
					diagnosis_R = "myopic";
					
					if ("LASIK" in modalities) {
						LASIKLasers_myopiaastigmatism("right");
					}
						
					if ("PRK" in modalities) {
						PRKLasers_myopiaastigmatism("right");
					}
					
					if ("IOL" in modalities) {
						IOL("right");
					}
				}
				else if (RS_neg > 0) {
					console.log("hyperopic");
					diagnosis_R = "hyperopic";
					
					if ("LASIK" in modalities) {
						LASIKLasers_hyperopiaastigmatism("right");
					}
						
					if ("PRK" in modalities) {
						PRKLasers_hyperopiaastigmatism("right");
					}
					
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopia. Phakic IOLs are not indicated for patients with Hyperopia. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
				if (LS_neg < 0) {
					console.log("myopic");
					diagnosis_L = "myopic";
					
					if ("LASIK" in modalities) {
						LASIKLasers_myopiaastigmatism("left");
					}
						
					if ("PRK" in modalities) {
						PRKLasers_myopiaastigmatism("left");
					}
						
					if ("IOL" in modalities) {
						IOL("left");
					}
				}
				else if (LS_neg > 0) {
					console.log("hyperopic");
					diagnosis_L = "hyperopic";
					
					if ("LASIK" in modalities) {
						LASIKLasers_hyperopiaastigmatism("left");
					}
						
					if ("PRK" in modalities) {
						PRKLasers_hyperopiaastigmatism("left");
					}
					
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopia. Phakic IOLs are not indicated for patients with Hyperopia. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
				else { //20/20 vision
					removeModality("LASIK");
					removeModality("PRK");
					removeModality("IOL");
				}
			}	
		}
		
		function typeofRE_right() {
			if (RC_neg != 0) {
				//if mixed astigmatism
				if (((RC_neg > 0 && RS_neg < 0) ||
				(RC_neg < 0 && RS_neg > 0)) &&
				(Math.abs(RC_neg) > Math.abs(RS_neg))) {
					console.log("mixed_astigmatism_R: " + mixed_astigmatism_R);
					mixed_astigmatism_R = true;
					console.log("mixed_astigmatism_R: " + mixed_astigmatism_R);
									
					if ("LASIK" in modalities) {
						LASIKLasers_mixedastigmatism("right");
					}
									
					if ("PRK" in modalities) {
						PRKLasers_mixedastigmatism("right");
					}
									
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Mixed Astigmatism. Phakic IOLs are not indicated for patients with Mixed Astigmatism. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
				//if regular astigmatism
				else {
					console.log("astigmatism");
									
					if (RS_neg < 0) {
						console.log("myopic astigmatism");
						diagnosis_R = "myopic astigmatism";
										
						if ("LASIK" in modalities) {
							LASIKLasers_myopiaastigmatism("right");
						}
										
						if ("PRK" in modalities) {
							PRKLasers_myopiaastigmatism("right");
						}
						if ("IOL" in modalities) {
							IOL("right");
						}
					}
					else if (RS_neg > 0) {
						console.log("hyperopic astigmatism");
						diagnosis_R = "hyperopic astigmatism";
										
						if ("LASIK" in modalities) {
							LASIKLasers_hyperopiaastigmatism("right");
						}
										
						if ("PRK" in modalities) {
							PRKLasers_hyperopiaastigmatism("right");
						}
										
						removeModality("IOL");
						hideDivByClass("myope_only");
						new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
						if (!justification_statement.includes(`${new_justification_statement}`)) {
							justification_statement += new_justification_statement;
						}
					}
					else { //RS_neg == 0
						if (RS_pos > 0) {
							console.log("no power, astigmatic. hyperopic astigmatism.");
							LASIKLasers_hyperopiaastigmatismpiaastigmatism("right");
							PRKLasers_hyperopiaastigmatism("right");
							removeModality("IOL");
							hideDivByClass("myope_only");
							new_justification_statement = justification_statement + "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
							if (!justification_statement.includes(`${new_justification_statement}`)) {
								justification_statement += new_justification_statement;
							}
						}
						if (RS_pos < 0){
							console.log("no power, astigmatic. myopic astigmatism.");
							LASIKLasers_myopiaastigmatism("right");
							PRKLasers_myopiaastigmatism("right");
							IOL("right");
						}
					}
				}
			}
				
			if (RC_neg == 0) {
				if (RS_neg < 0) {
					console.log("myopic");
					diagnosis_R = "myopic";
									
					if ("LASIK" in modalities) {
						LASIKLasers_myopiaastigmatism("right");
					}
											
					if ("PRK" in modalities) {
						PRKLasers_myopiaastigmatism("right");
					}
										
					if ("IOL" in modalities) {
						IOL("right");
					}
				}
				else if (RS_neg > 0) {
					console.log("hyperopic");
					diagnosis_R = "hyperopic";
										
					if ("LASIK" in modalities) {
						LASIKLasers_hyperopiaastigmatism("right");
					}
											
					if ("PRK" in modalities) {
						PRKLasers_hyperopiaastigmatism("right");
					}
										
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopia. Phakic IOLs are not indicated for patients with Hyperopia. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
			}
		}
		
		function typeofRE_left() {
			if (LC_neg != 0) {
				//if mixed astigmatism
				if (((LC_neg > 0 && LS_neg < 0) ||
				(LC_neg < 0 && LS_neg > 0)) &&
				(Math.abs(LC_neg) > Math.abs(LS_neg))) {
					console.log("mixed_astigmatism_L: " + mixed_astigmatism_L);
					mixed_astigmatism_L = true;
					console.log("mixed_astigmatism_L: " + mixed_astigmatism_L);
									
					if ("LASIK" in modalities) {
						LASIKLasers_mixedastigmatism("left");
					}
									
					if ("PRK" in modalities) {
						PRKLasers_mixedastigmatism("left");
					}
									
					removeModality("IOL");
					hideDivByClass("myope_only");
					new_justification_statement = "<p>•	 Your prescription indicates that you have Mixed Astigmatism. Phakic IOLs are not indicated for patients with Mixed Astigmatism. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
				//if regular astigmatism
				else {
					console.log("astigmatism");
									
					if (LS_neg < 0) {
						console.log("myopic astigmatism");
						diagnosis_L = "myopic astigmatism";
										
						if ("LASIK" in modalities) {
							LASIKLasers_myopiaastigmatism("left");
						}
										
						if ("PRK" in modalities) {
							PRKLasers_myopiaastigmatism("left");
						}
						if ("IOL" in modalities) {
							IOL("left");
						}
					}
					else if (LS_neg > 0) {
						console.log("hyperopic astigmatism");
						diagnosis_L = "hyperopic astigmatism";
										
						if ("LASIK" in modalities) {
							LASIKLasers_hyperopiaastigmatism("left");
						}
										
						if ("PRK" in modalities) {
							PRKLasers_hyperopiaastigmatism("left");
						}
										
						removeModality("IOL");
						hideDivByClass("myope_only");
						new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
						if (!justification_statement.includes(`${new_justification_statement}`)) {
							justification_statement += new_justification_statement;
						}
					}
					else { //LS_neg == 0
						if (LS_pos > 0) {
							console.log("no power, astigmatic. hyperopic astigmatism.");
							LASIKLasers_hyperopiaastigmatismpiaastigmatism("left");
							PRKLasers_hyperopiaastigmatism("left");
							removeModality("IOL");
							hideDivByClass("myope_only");
							new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopic Astigmatism. Phakic IOLs are not indicated for patients with Hyperopic Astigmatism. This was accounted for in your recommendation.</p>";
							if (!justification_statement.includes(`${new_justification_statement}`)) {
								justification_statement += new_justification_statement;
							}
						}
						if (LS_pos < 0){
							console.log("no power, astigmatic. myopic astigmatism.");
							LASIKLasers_myopiaastigmatism("left");
							PRKLasers_myopiaastigmatism("left");
							IOL("left");
						}
					}
				}
			}
				
			if (LC_neg == 0) {
				if (LS_neg < 0) {
					console.log("myopic");
					diagnosis_L = "myopic";
									
					if ("LASIK" in modalities) {
						LASIKLasers_myopiaastigmatism("left");
					}
											
					if ("PRK" in modalities) {
						PRKLasers_myopiaastigmatism("left");
					}
										
					if ("IOL" in modalities) {
						IOL("left");
					}
				}
				else if (LS_neg > 0) {
					console.log("hyperopic");
					diagnosis_R = "hyperopic";
										
					if ("LASIK" in modalities) {
						LASIKLasers_hyperopiaastigmatism("left");
					}
											
					if ("PRK" in modalities) {
						PRKLasers_hyperopiaastigmatism("left");
					}
										
					removeModality("IOL");
					hideDivByClass("myope_only");
					
					new_justification_statement = "<p>•	 Your prescription indicates that you have Hyperopia. Phakic IOLs are not indicated for patients with Hyperopia. This was accounted for in your recommendation.</p>";
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
				}
			}
		}
		
		function medical_data_filled() {
			
			var already_warned = false;
			
			if (document.getElementById('abscontraindications_yes').checked == false && document.getElementById('abscontraindications_no').checked == false) {
				alert("Please answer all questions.");
			}
			if (document.getElementById('abscontraindications_yes').checked == true) {
				process_medical_data();
			}
			else if (document.getElementById('abscontraindications_no').checked == true) {
				if ((document.getElementById('uveitis_yes').checked == false && document.getElementById('uveitis_no').checked == false) || 
				(document.getElementById('relcontraindications_yes').checked == false && document.getElementById('relcontraindications_no').checked == false) ||
				(document.getElementById('knowpresc_yes').checked==false && document.getElementById('knowpresc_no').checked==false)) {
					alert("Please answer all questions.");
				}
				
				if ((document.getElementById('uveitis_yes').checked==true || document.getElementById('uveitis_no').checked == true) &&
				(document.getElementById('relcontraindications_yes').checked==true || document.getElementById('relcontraindications_no').checked == true) &&
				(document.getElementById('knowpresc_yes').checked==true || document.getElementById('knowpresc_no').checked==true)) {
					console.log("All basic questions filled.");
						
					var can_submit_R = false;
					var can_submit_L = false;
						
					if (document.getElementById('knowpresc_yes').checked==true) {
						if (prescription_RS.value == "") {
							alert("Please enter your right spherical component.");
							already_warned = true;
						}
						else {
							console.log("prescription_RS != ''");
							if (prescription_RC.value == "" && prescription_Raxis.value != "") {
								alert("Please enter your right cylindrical component.");
								already_warned = true;
							}
							else if (prescription_RS.value > 20.00 || prescription_RS.value < -20.00) {
								alert("Please enter a valid right spherical component, between -20.00D and 20.00D.");
							}
							else if (prescription_RS.value%parseFloat(0.25) != 0.00) {
								alert("Please enter a valid right spherical component, in increments of 0.25.");
							}
							else if (prescription_RC.value%parseFloat(0.25) != 0.00) {
								alert("Please enter a valid right cylindrical component, in increments of 0.25.");
							}
							else if (prescription_RC.value != "" && (prescription_RC.value > 20.00 || prescription_RC.value < -20.00)) {
								alert("Please enter a valid right cylindrical component, between -20.00D and 20.00D.");
							}
							else if (prescription_Raxis.value != "" && (prescription_Raxis.value < 0 || prescription_Raxis.value > 180)) {
								alert("Please enter a valid right axis, between 0 and 180 degrees.");
							}
							else {
								can_submit_R = true;
							}
						}
							
						if (prescription_LS.value == "") {
							alert("Please enter your left spherical component.");
							already_warned = true;
						}
						else {
							console.log("prescription_LS != ''");
							if (prescription_LC.value == "" && prescription_Laxis.value != "") {
								alert("Please enter your left cylindrical component.");
								already_warned = true;
							}
							else if (prescription_LS.value > 20.00 || prescription_LS.value < -20.00) {
								alert("Please enter a valid left spherical component, between -20.00D and 20.00D.");
							}
							else if (prescription_LS.value%parseFloat(0.25) != 0.00) {
								alert("Please enter a valid left spherical component, in increments of 0.25.");
							}
							else if (prescription_LC.value%parseFloat(0.25) != 0.00) {
								alert("Please enter a valid left cylindrical component, in increments of 0.25.");
							}
							else if (prescription_LC.value != "" && (prescription_LC.value > 20.00 || prescription_LC.value < -20.00)) {
								alert("Please enter a valid left cylindrical component, between -20.00D and 20.00D.");
							}
							else if (prescription_Laxis.value != "" && (prescription_Laxis.value < 0 || prescription_Laxis.value > 180)) {
								alert("Please enter a valid left axis, between 0 and 180 degrees.");
							}
							else {
								can_submit_L = true;
							}
						}
						
						if (can_submit_R == true && can_submit_L == true) {
							process_medical_data();
						}
					}
					else if ((document.getElementById('knowpresc_no').checked==true) &&
					(document.getElementById('hyperopic_yes').checked==true || 
					document.getElementById('hyperopic_no').checked==true ||
					document.getElementById('hyperopic_idk').checked==true)) {
						process_medical_data();
					}
					else if ((document.getElementById('knowpresc_no').checked==true) &&
					(document.getElementById('hyperopic_yes').checked==false &&
					document.getElementById('hyperopic_no').checked==false &&
					document.getElementById('hyperopic_idk').checked==false)) {
						alert("Please answer all questions.");
						already_warned = true;
					}
				}	
			}
		}
		
		var modalities_og = {
			LASIK_og: 0,
			PRK_og: 0,
			IOL_og: 0
		}
		
		function process_medical_data() {
			modalities = {
				LASIK: 0,
				PRK: 0,
				IOL: 0
			};
			
			modalities_og = {
				LASIK_og: 0,
				PRK_og: 0,
				IOL_og: 0
			}
			
			justification_statement = "";
			
			<!-- console.log("entering process_medical_data()"); -->
			/* 	<!-- Question 1: Absolute contraindications -->
			<!-- If the patient has any of the following absolute contraindications, -->
			<!-- they are not recommended to undergo any of the surgeries. --> */
			<!-- console.log("Processing question 1."); -->
			if(document.getElementById('abscontraindications_yes').checked==true) {
				<!-- console.log("abscontraindications_yes checked."); -->
				removeModality("LASIK");
				removeModality("PRK");
				removeModality("IOL");
				returnRec();
				hideDivbyID('history'); 
				showDivbyID('surgeryrecs');
				hideDivbyID('values');
				justification_statement = justification_statement + "<p>•	 You indicated that you have either uncontrolled eye conditions/diseases or uncontrolled autoimmune disorders. These are absolute contraindications for LASIK, PRK, and Phakic IOLs, meaning that it is not safe for patients with these conditions/diseases to undergo these surgical modalities. </p>";
			}
			
			if(document.getElementById('abscontraindications_no').checked==true){
				/*console.log("Processed question 1.");
				console.log("Processing question 2.");
				console.log("Processing question 2a.");*/
				/* 	<!-- Question 2a-d: Relative contraindications -->*/
				/* 	<!-- If patients select any of the relative contraindications,-->
				<!-- the following disclaimers will be shown. */
				if(document.getElementById('relcontraindications_yes').checked==true){
					addValueByIdByModality("LASIK", 'relcontraindications_yes');
					addValueByIdByModality("PRK", 'relcontraindications_yes');
					if(document.getElementById('uveitis_yes').checked==true) {
						<!-- console.log("relcontraindications_yes, uveitis_yes"); -->
						removeModality("IOL");
						justification_statement = justification_statement + "<p>•	 You indicated that you either have a history of or you currently have Uveitis. Uveitis is an absolute contraindication for Phakic IOLs, meaning that it is not safe for patients with Uveitis to undergo Phakic IOL placement. Uveitis is also a relative contraindication for LASIK and PRK, meaning that it <strong>may be unsafe</strong> for patients with Uveitis to undergo LASIK or PRK. </p>";
					}
					else {
						<!-- console.log("relcontraindications_yes, uveitis_no"); -->
						addValueByIdByModality("IOL", 'relcontraindications_yes');
						justification_statement = justification_statement + "<p>•	 You indicated that you either have a history of or you currently have Diabetes Mellitus, Uncontrolled Thyroid Disease, Severe Dry Eye, Severe Glaucoma, Ocular Herpes, Ocular Rosacea, Strabismus, or Keratoconus. These are relative contraindications for LASIK, PRK, and Phakic IOLs, meaning that it <strong>may be unsafe</strong> for patients with these conditions to undergo LASIK, PRK, or Phakic IOL placement. Please consult with a refractive surgeon to determine candidacy for refractive surgery.</p>";
						showDivByClass('disclaimer_relcontraindications');
					}
				}
				else if (document.getElementById('relcontraindications_no').checked==true) {
					if(document.getElementById('uveitis_yes').checked==true) {
						<!-- console.log("relcontraindications_no, uveitis_yes"); -->
						addValueByIdByModality("LASIK", 'uveitis_yes');
						addValueByIdByModality("PRK", 'uveitis_yes');
						removeModality("IOL");
						justification_statement = justification_statement + "<p>•	 You indicated that you either have a history of or you currently have Uveitis. Uveitis is an absolute contraindication for Phakic IOLs, meaning that it is not safe for patients with Uveitis to undergo Phakic IOL placement. Uveitis is also a relative contraindication for LASIK and PRK, meaning that it <strong>may be unsafe</strong> for patients with Uveitis to undergo LASIK or PRK. Please consult with a refractive surgeon to determine candidacy for refractive surgery.</p>";
					}
				}
				<!-- console.log("Processed question 2a."); -->
								
				<!-- console.log("Processing question 3."); -->
				<!-- console.log("Processing question 3a."); -->
				<!-- console.log("document.getElementById('knowpresc_yes').checked: " + document.getElementById('knowpresc_yes').checked); -->
				<!-- console.log("document.getElementById('knowpresc_no').checked: " + document.getElementById('knowpresc_no').checked); -->
				if (document.getElementById('knowpresc_yes').checked ==true){
					<!-- console.log("Processed question 3a.");
					
					<!--console.log("Processing question 3b."); -->
					console.log("Getting and setting prescriptions.");
					//<!-- Question 3b: getting prescription -->
					const right_eye = set_prescription('prescription_RS', 'prescription_RC', 'prescription_Raxis');
					
					if (right_eye[1] < 0) {
						RS_neg = right_eye[0];
						RC_neg = right_eye[1];
						Raxis_neg = right_eye[2];
						
						RS_pos = 0.00;
						RC_pos = 0.00;
						Raxis_pos = 0;
					}
					else if (right_eye[1] > 0) {
						RS_pos = right_eye[0];
						RC_pos = right_eye[1];
						Raxis_pos = right_eye[2];
						
						RS_neg = 0.00;
						RC_neg = 0.00;
						Raxis_neg = 0;
					}
					else {
						RS_neg = right_eye[0];
						RC_neg = right_eye[1];
						Raxis_neg = right_eye[2];
						
						RS_pos = right_eye[0];
						RC_pos = right_eye[1];
						Raxis_pos = right_eye[2];
					}
					
					const left_eye = set_prescription('prescription_LS', 'prescription_LC', 'prescription_Laxis');
					if (left_eye[1] < 0) {
						LS_neg = left_eye[0];
						LC_neg = left_eye[1];
						Laxis_neg = left_eye[2];
						
						LS_pos = 0.00;
						LC_pos = 0.00;
						Laxis_pos = 0;
					}
					else if (left_eye[1] > 0) {
						LS_pos = left_eye[0];
						LC_pos = left_eye[1];
						Laxis_pos = left_eye[2];
						
						LS_neg = 0.00;
						LC_neg = 0.00;
						Laxis_neg = 0;
					}
					else {
						LS_neg = left_eye[0];
						LC_neg = left_eye[1];
						Laxis_neg = left_eye[2];
						
						LS_pos = left_eye[0];
						LC_pos = left_eye[1];
						Laxis_pos = left_eye[2];
					}
					
					/*console.log("\nRS_neg: " + RS_neg);
					console.log("RC_neg: " + RC_neg);
					console.log("Raxis_neg: " + Raxis_neg + "\n");
					
					console.log("LS_neg: " + LS_neg);
					console.log("LC_neg: " + LC_neg);
					console.log("Laxis_neg: " + Laxis_neg + "\n\n");
					
					console.log("RS_pos: " + RS_pos);
					console.log("RC_pos: " + RC_pos);
					console.log("Raxis_pos: " + Raxis_pos + "\n");
					
					console.log("LS_pos: " + LS_pos);
					console.log("LC_pos: " + LC_pos);
					console.log("Laxis_pos: " + Laxis_pos + "\n\n");*/
					
					console.log("Prescriptions gotten and set.");
					//<!-- Question 3c: converting cylinders-->
					
					//if RS_neg, RC_neg, and Raxis haven't been set yet
					if(RS_pos == 0.00 && RC_pos == 0.00 && Raxis_pos == 0) {
						let prescriptions = convert_prescription(RS_neg, RC_neg, Raxis_neg);
						RS_pos = prescriptions[0];
						RC_pos = prescriptions[1];
						Raxis_pos = prescriptions[2];
					}
					else if (RS_neg == 0.00 && RC_neg == 0.00 && Raxis_neg == 0)	{
						let prescriptions = convert_prescription(RS_pos, RC_pos, Raxis_pos);
						RS_neg = prescriptions[0];
						RC_neg = prescriptions[1];
						Raxis_neg = prescriptions[2];
					}
						
					if(LS_pos == 0.00 && LC_pos == 0.00 && Laxis_pos == 0) {
						let prescriptions = convert_prescription(LS_neg, LC_neg, Laxis_neg);
						LS_pos = prescriptions[0];
						LC_pos = prescriptions[1];
						Laxis_pos = prescriptions[2];
					}
					else if (LS_neg == 0.00 && LC_neg == 0.00 && Laxis_neg == 0)	{
						let prescriptions = convert_prescription(LS_pos, LC_pos, Laxis_pos);
						LS_neg = prescriptions[0];
						LC_neg = prescriptions[1];
						Laxis_neg = prescriptions[2];
					}
										
					console.log("\nRS_neg: " + RS_neg);
					console.log("RC_neg: " + RC_neg);
					console.log("Raxis_neg: " + Raxis_neg + "\n");
					
					console.log("LS_neg: " + LS_neg);
					console.log("LC_neg: " + LC_neg);
					console.log("Laxis_neg: " + Laxis_neg + "\n\n");
					
					console.log("RS_pos: " + RS_pos);
					console.log("RC_pos: " + RC_pos);
					console.log("Raxis_pos: " + Raxis_pos  + "\n");
					
					console.log("LS_pos: " + LS_pos);
					console.log("LC_pos: " + LC_pos);
					console.log("Laxis_pos: " + Laxis_pos + "\n\n");
					
					if ((LS_neg == 0.00 && LC_neg == 0.00) && (RS_neg == 0.00 && RC_neg == 0.00)) {
						removeModality("LASIK");
						removeModality("PRK");
						removeModality("IOL");
						returnRec();
						hideDivbyID('history'); 
						hideDivbyID('values');
						showDivbyID('surgeryrecs');
					}
					else if ((LS_neg == 0.00 && LC_neg == 0.00) || (RS_neg == 0.00 && RC_neg == 0.00)) {
						if (LS_neg == 0.00 && LC_neg == 0.00) {
							typeofRE_right();
							hideDivbyID('history'); 
							hideDivbyID('surgeryrecs');
							showDivbyID('values');
						}
						else if (RS_neg == 0.00 && RC_neg == 0.00) {
							typeofRE_left();
							hideDivbyID('history'); 
							hideDivbyID('surgeryrecs');
							showDivbyID('values');
						}
					}
					else {
						typeofRE();
						hideDivbyID('history'); 
						hideDivbyID('surgeryrecs');
						showDivbyID('values');
					}
					if(document.getElementById('uveitis_yes').checked==true) {
						hideDivByClass("myope_only");
					}
					//console.log("Processed question 3b.");
				}
				else if (document.getElementById('knowpresc_no').checked == true){
					//console.log("Processed question 3a.");
					
					//console.log("Processing question 3b.");
					
					if(document.getElementById('hyperopic_yes').checked == true) {
						//console.log("hyperopia: " + hyperopia);
						hyperopia = true;
						hideDivByClass("myope_only");
						//console.log("hyperopia: " + hyperopia);
						justification_statement = justification_statement + "<p>•	 You indicated that you have Hyperopia. Phakic IOLs are not indicated for patients with Hyperopia. This was accounted for in your recommendation.</p>";
					}
					else {
						if(document.getElementById('uveitis_yes').checked==true) {
							hideDivByClass("myope_only");
						}
						else if (document.getElementById('uveitis_no').checked==true) {
							showDivByClass("myope_only");
						}
					}
					
					hideDivbyID('history'); 
					hideDivbyID('surgeryrecs');
					showDivbyID('values');
					
					//console.log("Processed question 3b.");
				}
			}
			
			med_data_filled = true;
			
			console.log(modalities);
			if ("LASIK" in modalities) {
				modalities_og.LASIK_og = parseFloat(modalities.LASIK);
			}
			else {
				delete(modalities_og.LASIK_og);
			}
			
			if ("PRK" in modalities) {
				modalities_og.PRK_og = parseFloat(modalities.PRK);
			}
			else {
				delete(modalities_og.PRK_og);
			}
			
			if ("IOL" in modalities) {
				modalities_og.IOL_og = parseFloat(modalities.IOL);
			}
			else {
				delete(modalities_og.IOL_og);
			}
			console.log(modalities_og);
			
		}
		
		function navfromsurgeryrecsbackto() {
			hideDivbyID('surgeryrecs');
			if (document.getElementById('abscontraindications_yes').checked == true) {
				showDivbyID('history');
			}
			else if ((document.getElementById('knowpresc_no').checked == true) && (LS_neg == 0.00 && LC_neg == 0.00) && (RS_neg == 0.00 && RC_neg == 0.00)) {
				showDivbyID('history');
			}
			else {
				showDivbyID('values');
			}
		}
		
		$(document).ready(function(){
		  $(".droppable").droppable({
			drop: function(event, ui) {
			  var $list = $(this);
			  $helper = ui.helper;
			  
			  // Check if we reached the maximum number of children. 
			  if ($(this).children().length == $(this).data('max')) {
				return false;
			  }
			  
			  $($helper).removeClass("selected");
			  var $selected = $(".selected");                 
			  if($selected.length > 1){                       
				moveSelected($list,$selected);
			  }else{
				moveItem(ui.draggable,$list);
			  }                                       
			}, tolerance: "touch"
		  });

		  $(".draggable").draggable({
			revert: "invalid",
			helper: "clone",
			cursor: "move",
			drag: function(event,ui){
			  var $helper = ui.helper;
			  $($helper).removeClass("selected");
			  var $selected = $(".selected"); 
			  if($selected.length > 1){   
				$($helper).html($selected.length + " items");
			  }                                       
			}
		  });

		  function moveSelected($list,$selected){
			$($selected).each(function(){
			  $(this).fadeOut(function(){
				$(this).appendTo($list).removeClass("selected").fadeIn();
			  });                 
			});             
		  }
			
		  function moveItem( $item,$list ) {
			$item.fadeOut(function() {
			  $item.find(".item").remove();
			  $item.appendTo( $list ).fadeIn();
			});
		  }

		  $(".item").click(function(){
			$(this).toggleClass("selected");
		  });

		});

		let element_ids_list = [];
		let empty_arr = [];
		
		function prefs_filled() {
			let numPrefs = 0;
			
			list2.childNodes.forEach((element) => {
				
				if (typeof element.id  !== 'undefined') {
					numPrefs = numPrefs + 1;
				}
				
			})	
			if (numPrefs == 3) {
				if (med_data_filled == true) {
					returnRankedPrefs();
					new_justification_statement = "<p>•	 The preferences that you have selected have also been integrated into your recommendation. </p>";
					console.log("new_justification_statement: " + new_justification_statement);
					if (!justification_statement.includes(`${new_justification_statement}`)) {
						justification_statement += new_justification_statement;
					}
					returnRec();
					hideDivbyID('history'); 
					hideDivbyID('values'); 
					showDivbyID('surgeryrecs');
				}
				else {
					alert("Please fill medical history first.");
				}
			}
			else if (numPrefs < 3) {
				alert("Please select three preferences.");
			}
			else if (numPrefs > 3) {
				alert("Please select ONLY three preferences.");
			}
		}
		
		var counts = {
			LASIK_count: 0,
			PRK_count: 0,
			IOL_count: 0
		}
		
		function returnRec() {
			console.log("entered returnRec()");
			var rec = "";
			let sort_recs_by_value = false;
			
			if (!("LASIK" in modalities)) {
				console.log("LASIK not in modalities");
				delete(counts.LASIK_count);
			}
			if (!("PRK" in modalities)) {
				console.log("PRK not in modalities");
				delete(counts.PRK_count);
			}
			if (!("IOL" in modalities)) {
				console.log("IOL not in modalities");
				delete(counts.IOL_count);
			}
			
			if (Object.keys(counts).length > 0) {  //counts length = 1, 2, 3
				var items_1 = Object.keys(counts).map(function(key) {
					return [key, counts[key]];
				});
					
				if (Object.keys(counts).length > 1) { //counts length = 2, 3
					items_1.sort(function(first, second) {
						return second[1] - first[1];
					});
						
					console.log(items_1);
					for (let i = 0; i < Object.keys(counts).length; i++) {
						console.log("items_1 " + i + ": " + String(items_1[i]).split(",")[1]);
					}
					
					if (Object.keys(counts).length == 3) {
						if ((parseInt(String(items_1[0]).split(",")[1]) == parseInt(String(items_1[1]).split(",")[1])) && 
						(parseInt(String(items_1[1]).split(",")[1]) == parseInt(String(items_1[2]).split(",")[1]))) {
							sort_recs_by_value = true;
						}
						else if (parseInt(String(items_1[0]).split(",")[1]) == parseInt(String(items_1[1]).split(",")[1])) {
							sort_recs_by_value = true;
						}
						else {
							rec = String(items_1[0]).split(",")[0];
							rec = String(rec.split("_")[0]);
							console.log("rec: " + rec);
						}
					}
					else if (Object.keys(counts).length == 2) {
						if (parseInt(String(items_1[0]).split(",")[1]) == parseInt(String(items_1[1]).split(",")[1])) {
							sort_recs_by_value = true;
						}
						else {
							rec = String(items_1[0]).split(",")[0];
							rec = String(rec.split("_")[0]);
							console.log("rec: " + rec);
						}
					}
				}
				else if (Object.keys(counts).length == 1) { //counts length = 1
					rec = String(items_1[0]).split(",")[0];
					rec = String(rec.split("_")[0]);
					console.log("rec: " + rec);
				}
			}
			else { //modalities length = 0
				rec = "none";
			}
			
			if (sort_recs_by_value == true) {
				console.log("sort_recs_by_value: " + sort_recs_by_value);
				if (Object.keys(modalities).length > 0) {  //modalities length = 1, 2, 3
					var items = Object.keys(modalities).map(function(key) {
						return [key, modalities[key]];
					});
					
					if (Object.keys(modalities).length > 1) { //modalities length = 2, 3
						items.sort(function(first, second) {
							return second[1] - first[1];
						});
									
						console.log(items);
						rec = String(items[0]);
					}
					else if (Object.keys(modalities).length == 1) {
						rec = String(items[0]);
					}
				}
				else { //modalities length = 0
					rec = "none";
				}
			}
			
			rec = rec.split(",")[0];
			console.log("rec: " + rec);

			if (rec.localeCompare("none") != 0) {
				if (rec.localeCompare("LASIK") == 0) {
					document.getElementById("modality_recommendation").innerHTML = "<p style='color:crimson;font-family: 'Optician Sans', sans-serif;'>Based upon the preferences that you have shared, we recommend the following surgical modality: <strong>LASIK</strong>. Please discuss with a refractive surgeon.</p>";
					for (let i = 0; i < document.getElementsByClassName("LASIK_col").length; i++) {
						document.getElementsByClassName("LASIK_col")[i].style.background = "#F0F0F0";
					}
					showDivByClass("LASIK_surgeons");
				}
				else if (rec.localeCompare("PRK") == 0) {
					document.getElementById("modality_recommendation").innerHTML = "<p style='color:crimson;font-family: 'Optician Sans', sans-serif;'>Based upon the preferences that you have shared, we recommend the following surgical modality: <strong>PRK</strong>. Please discuss with a refractive surgeon.</p>";
					for (let i = 0; i < document.getElementsByClassName("PRK_col").length; i++) {
						document.getElementsByClassName("PRK_col")[i].style.background = "#F0F0F0";
					}
					showDivByClass("PRK_surgeons");
				}
				else if (rec.localeCompare("IOL") == 0) {
					document.getElementById("modality_recommendation").innerHTML = "<p style='color:crimson;font-family: 'Optician Sans', sans-serif;'>Based upon the preferences that you have shared, we recommend the following surgical modality: <strong>IOL</strong>. Please discuss with a refractive surgeon.</p>";
					for (let i = 0; i < document.getElementsByClassName("IOL_col").length; i++) {
						document.getElementsByClassName("IOL_col")[i].style.background = "#F0F0F0";
					}
					showDivByClass("IOL_surgeons");
				}
			}
			else {
				document.getElementById("modality_recommendation").innerHTML = "<p style='color:crimson;font-family: 'Optician Sans', sans-serif;'>Based upon your responses, you may be contraindicated for these surgical modalities, or you may have an eye glasses prescription that is outside of LASIK, PRK, and Phakic IOL parameters.</p>";
				showDivByClass("none_surgeons");
			}
			
			document.getElementById("justification").innerHTML = "<p><strong>Rationale</strong>: </p>" + justification_statement;
			console.log("new_justification_statement: " + justification_statement);
			
			for(let i = 0; i < element_ids_list.length; i++) {
				if (element_ids_list[i].localeCompare("military") == 0) {
					for (let j = 0; j < document.getElementsByClassName("military").length; j++) {
						document.getElementsByClassName("military")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("military")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("minimally_invasive") == 0) {
					for (let j = 0; j < document.getElementsByClassName("minimally_invasive").length; j++) {
						document.getElementsByClassName("minimally_invasive")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("minimally_invasive")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("cost_effective") == 0) {
					for (let j = 0; j < document.getElementsByClassName("cost_effective").length; j++) {
						document.getElementsByClassName("cost_effective")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("cost_effective")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("less_dry_eye") == 0) {
					for (let j = 0; j < document.getElementsByClassName("less_dry_eye").length; j++) {
						document.getElementsByClassName("less_dry_eye")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("less_dry_eye")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("doesnt_influence_rle") == 0) {
					for (let j = 0; j < document.getElementsByClassName("doesnt_influence_rle").length; j++) {
						document.getElementsByClassName("doesnt_influence_rle")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("doesnt_influence_rle")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("shorter_recovery") == 0) {
					for (let j = 0; j < document.getElementsByClassName("shorter_recovery").length; j++) {
						document.getElementsByClassName("shorter_recovery")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("shorter_recovery")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("less_painful_recovery") == 0) {
					for (let j = 0; j < document.getElementsByClassName("less_painful_recovery").length; j++) {
						document.getElementsByClassName("less_painful_recovery")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("less_painful_recovery")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("fewer_fus") == 0) {
					for (let j = 0; j < document.getElementsByClassName("fewer_fus").length; j++) {
						document.getElementsByClassName("fewer_fus")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("fewer_fus")[j].style.fontWeight = "700";
					}
				}
				if (element_ids_list[i].localeCompare("reversible") == 0) {
					for (let j = 0; j < document.getElementsByClassName("reversible").length; j++) {
						document.getElementsByClassName("reversible")[j].style.background = "#F0F0F0";
						document.getElementsByClassName("reversible")[j].style.fontWeight = "700";
					}
				}
			}
		}
		
		function returnRankedPrefs() {
			console.log("entered returnRankedPrefs() ");
			
			var rank = 0;
			counts.LASIK_count = 0;
			counts.PRK_count = 0;
			counts.IOL_count = 0;
			
			restore_original_colors();
			
			console.log(modalities_og);
			if ("LASIK_og" in modalities_og) {
				modalities.LASIK = parseFloat(modalities_og.LASIK_og);
			}
			
			if ("PRK" in modalities) {
				modalities.PRK = parseFloat(modalities_og.PRK_og);
			}
			
			if ("IOL" in modalities) {
				modalities.IOL = parseFloat(modalities_og.IOL_og);
			}
			console.log(modalities);
			
			element_ids_list.length = 0;
			list2.childNodes.forEach((element) => {
				
				if (typeof element.id  !== 'undefined') {
					rank = rank + 1;
					var element_id = element.id;
					console.log("element_id: " + element_id);
					element_ids_list.push(element_id);
					var element_class = element.className;
					console.log("element_class: " + element_class);
					
					console.log("modalities remaining: " + Object.keys(modalities));
					if (String(element_class).includes("LASIK") && "LASIK" in modalities) {
						console.log("entered LASIK");
						counts.LASIK_count += 1;
						if (rank == 1) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 4; i++) {
								modalities.LASIK = parseFloat(modalities.LASIK) + parseFloat(document.getElementById(element.id).getAttribute('lasikvalue'));
							}
						}
						else if (rank == 2) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 3; i++) {
								modalities.LASIK = parseFloat(modalities.LASIK) + parseFloat(document.getElementById(element.id).getAttribute('lasikvalue'));
							}
						}
						else if (rank == 3) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 2; i++) {
								modalities.LASIK = parseFloat(modalities.LASIK) + parseFloat(document.getElementById(element.id).getAttribute('lasikvalue'));
							}
						}
					}
					if (String(element_class).includes("PRK") && "PRK" in modalities) {
						console.log("entered PRK");
						counts.PRK_count += 1;
						if (rank == 1) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 4; i++) {
								modalities.PRK = parseFloat(modalities.PRK) + parseFloat(document.getElementById(element.id).getAttribute('prkvalue'));
							}
						}
						else if (rank == 2) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 3; i++) {
								modalities.PRK = parseFloat(modalities.PRK) + parseFloat(document.getElementById(element.id).getAttribute('prkvalue'));
							}
						}
						else if (rank == 3) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 2; i++) {
								modalities.PRK = parseFloat(modalities.PRK) + parseFloat(document.getElementById(element.id).getAttribute('prkvalue'));
							}
						}
					}
					if (String(element_class).includes("IOL") && "IOL" in modalities) {
						counts.IOL_count += 1;
						console.log("entered IOL");
						if (rank == 1) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 4; i++) {
								modalities.IOL = parseFloat(modalities.IOL) + parseFloat(document.getElementById(element.id).getAttribute('iolvalue'));
							}
						}
						else if (rank == 2) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 3; i++) {
								modalities.IOL = parseFloat(modalities.IOL) + parseFloat(document.getElementById(element.id).getAttribute('iolvalue'));
							}
						}
						else if (rank == 3) {
							console.log("entered rank " + rank);
							for (let i = 0; i < 2; i++) {
								modalities.IOL = parseFloat(modalities.IOL) + parseFloat(document.getElementById(element.id).getAttribute('iolvalue'));
							}
						}
					}
				}
				else {
					console.log("element doesn't have an ID");
				}
			})
		}
		
		function restore_original_colors() {
			for (let i = 0; i < document.getElementsByClassName("LASIK_col").length; i++) {
				document.getElementsByClassName("LASIK_col")[i].style.background = "white";
				document.getElementsByClassName("PRK_col")[i].style.background = "white";
				document.getElementsByClassName("IOL_col")[i].style.background = "white";
			}
			
			for (let j = 0; j < document.getElementsByClassName("military").length; j++) {
				document.getElementsByClassName("military")[j].style.background = "white";
				document.getElementsByClassName("minimally_invasive")[j].style.background = "white";
				document.getElementsByClassName("cost_effective")[j].style.background = "white";
				document.getElementsByClassName("less_dry_eye")[j].style.background = "white";
				document.getElementsByClassName("doesnt_influence_rle")[j].style.background = "white";
				document.getElementsByClassName("shorter_recovery")[j].style.background = "white";
				document.getElementsByClassName("less_painful_recovery")[j].style.background = "white";
				document.getElementsByClassName("fewer_fus")[j].style.background = "white";
				document.getElementsByClassName("reversible")[j].style.background = "white";
			}
		}
		
		function clearotherselections() {
			if(document.getElementById('abscontraindications_yes').checked == true) {
				document.getElementById('abscontraindications_no').checked = false;
				document.getElementById('uveitis_yes').checked = false;
				document.getElementById('uveitis_no').checked = false;
				document.getElementById('relcontraindications_yes').checked = false;
				document.getElementById('relcontraindications_no').checked = false;
				document.getElementById('knowpresc_yes').checked = false;
				document.getElementById('knowpresc_no').checked = false;
				document.getElementById('prescription_RS').value = "";
				document.getElementById('prescription_RC').value = "";
				document.getElementById('prescription_Raxis').value = "";
				document.getElementById('prescription_LS').value == "";
				document.getElementById('prescription_LC').value == "";
				document.getElementById('prescription_Laxis').value = "";
				document.getElementById('hyperopic_yes').checked = false;
				document.getElementById('hyperopic_no').checked = false;
				document.getElementById('hyperopic_idk').checked = false;
			}
			else if(document.getElementById('abscontraindications_no').checked == true) {
				document.getElementById('abscontraindications_yes').checked = false;
				document.getElementById('uveitis_yes').checked = false;
				document.getElementById('uveitis_no').checked = false;
				document.getElementById('relcontraindications_yes').checked = false;
				document.getElementById('relcontraindications_no').checked = false;
				document.getElementById('knowpresc_yes').checked = false;
				document.getElementById('knowpresc_no').checked = false;
				document.getElementById('prescription_RS').value = "";
				document.getElementById('prescription_RC').value = "";
				document.getElementById('prescription_Raxis').value = "";
				document.getElementById('prescription_LS').value = "";
				document.getElementById('prescription_LC').value = "";
				document.getElementById('prescription_Laxis').value = "";
				document.getElementById('hyperopic_yes').checked = false;
				document.getElementById('hyperopic_no').checked = false;
				document.getElementById('hyperopic_idk').checked = false;
			}
		}
		
		function clearlastqn() {
			if (document.getElementById('knowpresc_yes').checked == true) {
				document.getElementById('hyperopic_yes').checked = false;
				document.getElementById('hyperopic_no').checked = false;
				document.getElementById('hyperopic_idk').checked = false;
				document.getElementById('prescription_RS').value = "";
				document.getElementById('prescription_RC').value = "";
				document.getElementById('prescription_Raxis').value = "";
				document.getElementById('prescription_LS').value = "";
				document.getElementById('prescription_LC').value = "";
				document.getElementById('prescription_Laxis').value = "";
			}
			else if (document.getElementById('knowpresc_no').checked == true) {
				document.getElementById('hyperopic_yes').checked = false;
				document.getElementById('hyperopic_no').checked = false;
				document.getElementById('hyperopic_idk').checked = false;
				document.getElementById('prescription_RS').value = "";
				document.getElementById('prescription_RC').value = "";
				document.getElementById('prescription_Raxis').value = "";
				document.getElementById('prescription_LS').value = "";
				document.getElementById('prescription_LC').value = "";
				document.getElementById('prescription_Laxis').value = "";
			}
		}
	</script>
	
	<title>EYECHOOSE</title>
	
</head>

<body>
	<nav>
		<div class="logo">
            <div>
                <a href="#home">
					<h1>EYE<span>CHOOSE</span></h1>
				</a>
            </div>
        </div>
		
		<div class="openMenu"><i class="fa fa-bars icon-large"></i></div>
		<ul class="mainMenu">
			<li><a href="#home" onclick="showDivbyID('home'); hideDivbyID('errors'); hideDivbyID('surgeries'); hideDivbyID('history'); hideDivbyID('values'); hideDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Home</a></li>
			<li><a href="#errors" onclick="hideDivbyID('home'); showDivbyID('errors'); hideDivbyID('surgeries'); hideDivbyID('history'); hideDivbyID('values'); hideDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Refractive Errors</a></li>
			<li><a href="#surgeries" onclick="hideDivbyID('home'); hideDivbyID('errors'); showDivbyID('surgeries'); hideDivbyID('history'); hideDivbyID('values'); hideDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Refractive Surgeries</a></li>
			<li><a href="#history" onclick="hideDivbyID('home'); hideDivbyID('errors'); hideDivbyID('surgeries'); showDivbyID('history'); hideDivbyID('values'); hideDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Medical History</a></li>
			<li><a href="#values" onclick="hideDivbyID('home'); hideDivbyID('errors'); hideDivbyID('surgeries'); hideDivbyID('history'); showDivbyID('values'); hideDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Preferences</a></li>
			<li><a href="#surgeonrecs" onclick="hideDivbyID('home'); hideDivbyID('errors'); hideDivbyID('surgeries'); hideDivbyID('history'); hideDivbyID('values'); showDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Surgical Modality Recommendations</a></li>
			<li><a href="#moreinfo" onclick="hideDivbyID('home'); hideDivbyID('errors'); hideDivbyID('surgeries'); hideDivbyID('history'); hideDivbyID('values'); hideDivbyID('surgeryrecs'); hideDivbyID('surgeonrecs'); showDivbyID('moreinfo');">Additional Information</a></li>
			<li><a href="#surgeryrecs" onclick="hideDivbyID('home'); hideDivbyID('errors'); hideDivbyID('surgeries'); hideDivbyID('history'); hideDivbyID('values'); hideDivbyID('surgeryrecs'); showDivbyID('surgeonrecs'); hideDivbyID('moreinfo');">Surgeon Recommendations</a></li>
			<div class="closeMenu"><i class="fa fa-times"></i></div>
		</ul>
	</nav>
	
	<!--Home Section -->
	<section id="home">
		<div class="homeContainer inner">
			<div class="home-top">
				<h1 class="section-title">What is the best refractive surgical modality for you?</h1>
			</div>
			<div class="home-bottom">
				<div class="logo">
                    <h1>EYE<span>CHOOSE</span></h1>
					<p> is a prototype patient decision aid to assist college-aged students 
					in the selection of a refractive surgery for the correction of 
					nearsightedness (myopia), farsightedness (hyperopia), and astigmatism.</p>
					
					<p><br><br><br><strong>Disclaimer:</strong> Information on this site is not intended nor implied to be a substitute for professional medical advice, diagnosis, or treatment. Please consult with a medical professional about your treatment options.</p></p>
				</div>
			</div>
		</div>
		<div class="home-bottom"><div class="pageNav_home"> 
			<a href="#errors" class="next round" onclick="showDivbyID('errors'); hideDivbyID('home');">></a>
		</div></div>
	</section>	
	<!--End of Home Section -->
	
	<!-- Refractive Errors Section -->
	<section id="errors">
		<div class="errorsContainer inner">
			<div class="errors-top">
				<h1 class="section-title"><br><br><br>Refractive Errors</h1>
				<p>Refractive errors are eye disorders that cause light to 
				focus outside of the retina, producing a blurry image. 
				They occur, because the eyeball is excessively long or short, 
				the cornea is non-spherical, or lens has developed rigidity due 
				to aging.</p>
			</div>
			<div class="errors-bottom">
				<div class="refractive-error">
					<h2>Myopia</h2>
					<p>Myopia, better known as “nearsightedness”, causes distant 
					objects to appear blurry. It occurs when the eyeball is too long, causing 
					light to focus in front of the retina. It progressively worsens 
					after onset until the ages of 16 to 21. The 
					earlier onset of myopia yields a higher prescription at the 
					achievement of eyesight maturity. High myopia increases 
					the probability of significant visual impairment by itself, but 
					it also increases the possibility of 
					retinal detachment, which may irreversibly impair vision, as 
					well.</p>
					<div class="icon"><img src="https://cdn.britannica.com/45/63345-050-7BD73D28/nearsightedness-glasses-Myopia-lenses-focus-eye-objects.jpg" width='715' height='315'/></div>
				</div>
				<div class="refractive-error">
					<h2>Hyperopia</h2>
					<p>Hyperopia, better known as farsightedness, causes nearby 
					objects to appear blurry. It occurs when the eyeball is too short, 
					causing light to focus behind the retina. Like myopia, 
					hyperopia is progressive, worsening after onset 
					until the achievement of eyesight maturity. Earlier onset 
					of hyperopia yields a higher prescription when eyesight stabilizes. Moderate to high hyperopia elevates the 
					risk of developing amblyopia and strabismus, which may 
					precipitate visual impairment. Moderate to high hyperopia also increases
					the risk of glaucoma where pressure inside the eye damages
					the optic nerve and reduces peripheral vision.
					In severe cases it can lead to blindness. </p>
					<div class="icon"><img src="https://cdn.britannica.com/44/63344-050-D20C0E4A/farsightedness-glasses-Hyperopia-lenses-effort-object-focus.jpg" width='715' height='315'/></div>
				</div>
				<div class="refractive-error">
					<h2>Astigmatism</h2>
					<p>Astigmatism causes objects at all distances to appear 
					blurry, because of the non-spherical curvature of the cornea or the lens. 
					It presents in three varieties-- myopic astigmatism, hyperopic 
					astigmatism, and mixed astigmatism. In myopic astigmatism, 
					lens curvature causes light to hit in front of the retina. 
					In hyperopic astigmatism, light hits behind the retina. In 
					mixed astigmatism, light hits as a combination of both in front
					of and behind the retina. Astigmatism is a progressive 
					condition, like both myopia and hyperopia, affecting visual 
					acuity. It can lead to amblyopia, which may affect visual 
					acuity, even causing blindness.</p>
					<div class="icon"><img src="https://www.casagrandeeyecare.com/wp-content/uploads/2017/10/astigmatism-720x320.jpg" width="704" height="312"></div>
					<p class="icon_source">Source: Casa Grande Eye Care</p>
				</div>
			</div>
			<div class="pageNav"> 
					<a href="#home" class="next round" onclick="hideDivbyID('errors'); showDivbyID('home');"><</a>
					<a href="#surgeries" class="next round" onclick="showDivbyID('surgeries'); hideDivbyID('errors');">></a>
			</div>
		</div>
	</section>
	<!--End of Refractive Errors Section -->
	
	<!-- Refractive Surgeries Section -->
	<section id="surgeries">
		<div class="surgeriesContainer inner">
			<div class="surgeries-top">
				<h1 class="section-title"><br><br><br>Refractive Surgeries</h1>
				<p>Refractive surgery seeks to correct these refractive 
				errors, through corneal remodeling, lens implantation, or 
				lens replacement. These procedures are FDA approved for 
				patients 21 years and older, whose eye-glasses prescriptions
				have remained stable for at least two years.</p>
			</div>
			<div class="surgeries-bottom">
				<div class="refractive-surgery">
					<h2>Laser In-Situ Keratomileusis (LASIK)</h2>
					<p>LASIK is the most well known and most commonly performed refractive surgery for the correction of myopia, hyperopia, and astigmatism. 
					It is a quick procedure with minimal associated discomfort. A femtolaser or a microkeratome creates a corneal flap, 
					under which an excimer laser reshapes the corneal tissue. Side effects and complications of this procedure include the rare risks of flap 
					damage or loss, infection, delayed healing, undercorrection or overcorrection, irregular astigmatism, blurry vision or vision loss, scarring, 
					corneal haze or glare, photosensitivity, and inability to wear contact lenses.  Average recovery time is six to twelve hours, 
					with most seeing clearly, regaining 90% of their vision, within 24 hours. Full effects of the surgery are apparent after 
					a month. Approximately six percent of patients choose to undergo an enhancement within ten years due to myopic regression. LASIK is non-reversible for those patients dissatisfied with results.</p>
					<div class="icon"><iframe width="560" height="315" src="https://www.youtube.com/embed/r7EMHgRhlW0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
					<p class="icon_source">Source: EyeSmart - American Academy of Ophthalmology</p>
			</div>
				<div class="refractive-surgery">
					<h2>Photorefractive Keratectomy (PRK)</h2>
					<p>Photorefractive Keratectomy (PRK) and its variants including Advanced Surface Ablation, Laser Epithelial Keratomileusis (LASEK), and Epithelial Laser In Situ Keratomileusis 
					(Epi-LASIK), are the second most commonly performed refractive surgery for the correction of myopia, hyperopia, and astigmatism. In PRK, the corneal epithelium is removed, 
					after which the Bowman membrane and corneal stroma are reshaped over the pupil using an excimer laser. LASEK and Epi-LASIK are modifications of PRK, 
					where an epithelial flap is created, instead of removed. A bandage contact lens is applied until the epithelium heals after each of these procedures.
					The side effects and complications of these procedures include undercorrection or overcorrection, irregular astigmatism, blurry vision or vision loss, corneal 
					haze or glare and halos, photosensitivity, and inability to wear contact lenses. LASEK and epi-LASIK have the additional side effects and complications of flap damage
					or loss. The removal of the corneal epithelium increases pain and recovery time: Pain can last up to four days, with 90% recovery over that period.
					Full recovery takes between three to six months. These procedures can be repeated to correct regression, but they cannot be reversed.</p>
					<div class="icon"><iframe width="560" height="315" src="https://www.youtube.com/embed/EoWdquQfAbA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
					<p class="icon_source">Source: EyeSmart - American Academy of Ophthalmology</p>
				</div>
				<div class="refractive-surgery">
					<h2>Phakic Intraocular Lenses (IOL)</h2>
					<p>Phakic Intraocular Lenses, also known as Implantable Collamer Lenses, are an alternative to LASIK and PRK for the correction of high myopia and astigmatism. A surgical incision is made on 
					the cornea. A soft lens is inserted through this incision and is placed on top of or behind the natural lens of the eye. 
					Side effects and complications of this procedure include infection, undercorrection/overcorrection, vision loss, clouding of the cornea, 
					glares, halos, double vision, cataract, and retinal detachment. This procedure may need to be repeated to reposition, replace, or remove the implanted lens, 
					if it moves, is not the right size, or causes severe complications. That being said, the procedure is both repeatable and reversible. Vision stabilizes 
					up to 4 weeks after the procedure.</p>
					<div class="icon"><iframe width="560" height="315" src="https://www.youtube.com/embed/hCSQh5XpoV4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>
					<p class="icon_source">Source: EyeSmart - American Academy of Ophthalmology</p>
				</div>
			</div>
			<div class="pageNav"> 
				<a href="#errors" class="next round" onclick="hideDivbyID('surgeries'); showDivbyID('errors');"><</a>
				<a href="#history" class="next round" onclick="hideDivbyID('surgeries'); showDivbyID('history');">></a>
			</div>
		</div>
	</section>
	<!--End of Refractive Surgeries Section -->
	
	<form>
	<!--History Section -->
	<section id="history">
		<div class="historyContainer inner">
			<div class="history-top">
				<h1 class="section-title"><br><br><br>Medical History</h1>
			</div>
			<div class="history-bottom" id='history_form'>
				<div class="qn">
					<p><!-- 1.&ensp;  -->Do you have a history of or do you currently have any of the following:</p>
		
					<ul>
							<li><p>&emsp; &ensp; •	 &ensp; Uncontrolled Eye Conditions or Diseases</p></li>
							<li><p>&emsp; &ensp; •	 &ensp; Uncontrolled Autoimmune Disorders?</p></li>
					</ul>
						
					<div id="preferences">
						<input id="abscontraindications_yes" class="radioBtn qn1" name="abscontraindications" type="radio" value=-50 required onclick="hideDivByClass('qn1b'); hideDivByClass('qn2'); hideDivByClass('qn3a'); hideDivByClass('qn4'); hideDivByClass('qn3b');"/>
							<label for="abscontraindications_yes"><p>yes</p></label>
						
						<input id="abscontraindications_no" class="radioBtn qn1" name="abscontraindications" type="radio" value=0 required onclick="showDivByClass('qn1b'); showDivByClass('qn2'); showDivByClass('qn3a');  clearotherselections();"/>
							<label for="abscontraindications_no"><p>no</p></label>
					</div>
				</div>
				
				<div class="qn">
					<p class="qn1b"><!-- 1.&ensp;  -->Do you have a history of or do you currently have Uveitis?</p>
		
					<div class="qn1b"> 
					<div id="preferences">
						<input id="uveitis_yes" class="radioBtn qn1b" name="uveitis" type="radio" value=-27 required/>
							<label for="uveitis_yes"><p>yes</p></label>
						
						<input id="uveitis_no" class="radioBtn qn1b" name="uveitis" type="radio" value=0 required/>
							<label for="uveitis_no"><p>no</p></label>
					</div></div>
				</div>
				
				<div class="qn">
					<p class="qn2"><!-- 1.&ensp;  -->Do you have a history of or do you currently have any of the following:</p>
					<div class="qn2">
					<ul>
						<li><p>&emsp; &ensp; •	 &ensp; Diabetes Mellitus&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&emsp;&ensp;&emsp;&ensp;&ensp;•	 &ensp; Ocular Herpes</p></li>
						<li><p>&emsp; &ensp; •	 &ensp; Uncontrolled Thyroid Disease&emsp;&ensp;&emsp;&ensp;•	 &ensp; Ocular Rosacea</p></li>
						<li><p>&emsp; &ensp; •	 &ensp; Severe Dry Eye&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;•	 &ensp; Strabismus</p></li>
						<li><p>&emsp; &ensp; •	 &ensp; Severe Glaucoma&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&ensp;&emsp;&emsp;•	 &ensp; Keratoconus?</p></li>
					</ul></div>
						
					<div class="qn2">
					<div id="preferences" class="qn2">
						<input id="relcontraindications_yes" class="radioBtn qn2a" name="relcontraindications" type="radio" value=-27 required />
							<label for="relcontraindications_yes"><p>yes</p></label>
						
						<input id="relcontraindications_no" class="radioBtn qn2a qn2" name="relcontraindications" type="radio" value=0 required />
							<label for="relcontraindications_no"><p>no</p></label>
					</div></div>
				</div>

				<div class="qn qn3athrub">
						<p class="qn3a"><!-- 3a. &ensp; -->Do you know your eyeglasses prescription?</p>
						
						<div class="qn3a">
						<div id="preferences">
							<input id="knowpresc_yes" class="radioBtn qn3a" name="knowpresc" type="radio" required onclick="showDivByClass('qn3b'); hideDivByClass('qn4'); clearlastqn();" />
								<label for="knowpresc_yes"><p>yes</p></label>

							<input id="knowpresc_no" class="radioBtn qn3a" name="knowpresc" type="radio" required onclick="hideDivByClass('qn3b'); showDivByClass('qn4'); clearlastqn();" />
								<label for="knowpresc_no"><p>no</p></label>
						</div></div>

						<p for="number" class="qn3b"><br><!-- 3b.&ensp;   -->What is your last known eyeglasses prescription? </p>
						<table class="qn3b">
							<tr>
								<td></td>
								<td><p>Spherical</p></td>
								<td><p>Cylindrical</p></td>
								<td><p>Axis</p></td>
							</tr>
							<tr>
								<td><p>Right (OD)</p></td>
								<td><input id="prescription_RS" name="prescription" type="number" step="0.25" min="-20" max="20" required></td>
								<td><input id="prescription_RC" name="prescription" type="number" step="0.25" min="-20" max="20" ></td>
								<td><input id="prescription_Raxis" name="prescription" type="number" step="5" min="0" max="180" onchange="errorMessage('right')"></td>
							</tr>
							<tr>
								<td><p>Left (OS)</p></td>
								<td><input id="prescription_LS" name="prescription" type="number" step="0.25" min="-20" max="20" required></td>
								<td><input id="prescription_LC" name="prescription" type="number" step="0.25" min="-20" max="20"></td>
								<td><input id="prescription_Laxis" name="prescription" type="number" step="5" min="0" max="180" onchange="errorMessage('left')"></td>
							</tr>
						</table>
					
					<p class="qn4"><br><!-- 3b.&ensp;  -->Do you have hyperopia, antimetropia-- in which one of your two eyes is hyperopic--, or mixed astigmatism? </p>
					
					<div class="qn4">
						<div id="preferences">
							<input id="hyperopic_yes" class="checkbox qn4" name="hashyperopia" type="radio" required>
								<label for="hyperopic_yes"><p>Yes</p></label>
							
							<input id="hyperopic_no" class="checkbox qn4" name="hashyperopia" type="radio" required>
								<label for="hyperopic_no"><p>No</p></label>
								
							<input id="hyperopic_idk" class="checkbox qn4" name="hashyperopia" type="radio" required>
								<label for="hyperopic_idk"><p>I Don't Know</p></label><br><br>
						</div>
					</div>
				</div>	
			</div>
			
			<div class="pageNav"> 
				<a href="#surgeries" class="next round" onclick="showDivbyID('surgeries'); hideDivbyID('history');"><</a>
				<a href="#values" class="next round" onclick="restore_original_colors(); medical_data_filled();">></a>
			</div>
		</div>
	</section>
	<!--End of History Section -->

	<!-- Values Section -->
	<section id="values">
		<div class="valuesContainer inner">
			<div class="values-top">
				<h1 class="section-title"><br><br><br>Preferences</h1>
				<div id="modality_recommendation_in_prefs"></div>
				<p class="prefs_instructions">Choose three statements that are the most influential to your 
				selection of a refractive surgery modality. Rank them by their importance to you, placing the most 
				important statement at the top.</p>
			</div>
			<div class="values-bottom">				
				<div id="list1" class="droppable list" data-max="-1"><!-- I want this to accept many. -->
				  <p class="item draggable PRK" id="military" lasikvalue=0 prkvalue=3 iolvalue=0>The refractive surgery is better suited for patients in the military or for patients who participate in contact sports.</p>
				  <p class="item draggable LASIK PRK" id="minimally_invasive" lasikvalue=1.5 prkvalue=3 iolvalue=0>The refractive surgery is minimally invasive.</p>
				  <p class="item draggable LASIK PRK" id="cost_effective" lasikvalue=3 prkvalue=3 iolvalue=0>The refractive surgery is more cost effective.</p>
				  <p class="item draggable PRK IOL" id="less_dry_eye" lasikvalue=0 prkvalue=1.5 iolvalue=3>Following the refractive surgery, patients are at lower risk of developing dry eye symptoms.</p>
				  <p class="item draggable IOL myope_only"id="doesnt_influence_rle" lasikvalue=0 prkvalue=0 iolvalue=3>The refractive surgery does not influence vision correction during subsequent cataract surgery.</p>
				  <p class="item draggable LASIK IOL" id="shorter_recovery" lasikvalue=3 prkvalue=0 iolvalue=1.5>The recovery period of this refractive surgery is shorter.</p>
				  <p class="item draggable LASIK IOL" id="less_painful_recovery" lasikvalue=3 prkvalue=0 iolvalue=1.5>The recovery period of this refractive surgery is less painful.</p>
				  <p class="item draggable LASIK PRK" id="fewer_fus" lasikvalue=3 prkvalue=1.5 iolvalue=0>The refractive surgery requires less follow-up appointments post-operatively.</p>
				  <p class="item draggable IOL myope_only" id="reversible" lasikvalue=0 prkvalue=0 iolvalue=3>The refractive surgery is reversible.</p>
				</div>
				<div id="list2" class="droppable list" data-max="3"><!-- I want this to accept only 3. -->
				</div>
			</div>
			
			<div class="pageNav"> 
				<a href="#history" class="next round" onclick="hideDivbyID('values'); showDivbyID('history');"><</a>
				<a href="#surgeryrecs" class="next round" onclick="restore_original_colors(); prefs_filled();">></a>
			</div>
			
		</div>
	</section>
	</form>
	<!-- End of Values Section -->
	
	<!-- Surgery Recommendations Section -->
	<section id="surgeryrecs">
		<div class="surgeryrecsContainer inner">
			<div class="surgeryrecs-top">
				<h1 class="section-title"><br><br><br>Surgical Modality Recommendations</h1>
				<p>Your surgical modality recommendation and the preferences you selected are highlightd. Hover over the icons for more detail.</p>
				
				<div id="modality_recommendation"></div>
				<div id="justification"></div>
				<div class="recommendations_table">
					<table>
						<thead>
							<tr>
								<td colspan="2"></td>
								<td class="coltitle"><p>Laser In-Situ Keratomileusis (LASIK)</p></td>
								<td class="coltitle"><p>Photorefractive Keratectomy (PRK)</p></td>
								<td class="coltitle"><p>Intraocular Lenses (IOLs)</p></td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td rowspan="2" class="bigrowtitle"><p>Advantages</p></td>
								<td class="rowtitle military"><p>Better Suited for Military and Athletes</p></td>
								<td class='results LASIK_col military'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>LASIK is not as well suited for the military and athletes as PRK. The surgery 
										involves the creation of a corneal flap, which is susceptible to damage, dislodgement, or loss with the 
										infliction of trauma.</span>
									</div>
								</td>
								<td class='results PRK_col military'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>PRK is <a href="https://eyewiki.aao.org/Photorefractive_Keratectomy">better suited for the military and athletes than LASIK</a>. The 
										surgery does not involve the creation of a corneal flap, eliminating potential of flap related complications.</span>
									</div>
								</td>
								<td class='results IOL_col military'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
									</div>
								</td>
							</tr>
							
							<tr>
								<td class="rowtitle minimally_invasive"><p>Less Invasive</p></td>
								<td class='results LASIK_col minimally_invasive'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>LASIK touches more of the cornea than PRK and its variants, making it a more invasive 
										alternative to PRK and its variants. That being said, 
										because the procedure remains superficial, in contrast to IOLs, it is still minimally invasive.</span>
									</div>
								</td>
								<td class='results PRK_col minimally_invasive'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>PRK and its variants touch less of the cornea than LASIK, making them less invasive alternatives. Additionally, 
										because the procedure is superficial, in contrast to IOLs, it is minimally invasive.</span>
									</div>
								</td>
								<td class='results IOL_col minimally_invasive'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>Intraocular Refractive Surgery involves the placement of an intraocular 
										contact lens within the eye. This contrasts from LASIK and PRK and its variants, which correct refraction by shaping the cornea, a  
										superficial layer of the eye. As such, IOLs are more invasive than LASIK and PRK.</span>
									</div>
								</td>
							</tr>
							
							<tr>
								<td class="bigrowtitle"><p>Price</p></td>
								<td class="rowtitle cost_effective"><p>Cost Effective</p></td>
								<td class='results LASIK_col cost_effective'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>Average of <a href="https://www.webmd.com/connect-to-care/lasik/how-much-does-lasik-surgery-cost#:~:text=With%20an%20average%20cost%20of,equipment%2C%20and%20specific%20eye%20conditions.">$2,199</a> per eye</span>
									</div>
								</td>
								<td class='results PRK_col cost_effective'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>Average of <a href="https://www.webmd.com/connect-to-care/lasik/is-prk-surgery-covered-by-insurance#:~:text=How%20Much%20Does%20PRK%20Surgery,laser%2Dassisted%20in%20situ%20keratomileusis.">$2,246</a> per eye</span>
									</div>
								</td>
								<td class='results IOL_col cost_effective'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>Range of <a href="https://www.bettervisionguide.com/phakic-iols/#:~:text=How%20Much%20Do%20Phakic%20IOLs,is%20not%20covered%20by%20insurance.">$3,000 to $5,000</a> per eye</span>
									</div>
								</td>
							</tr>
							
							<tr>
								<td rowspan="2" class="bigrowtitle"><p>Side Effects and Complications</p></td>
								<td class="rowtitle less_dry_eye"><p>Limited Risk of Dry Eye</p></td>
								<td class='results LASIK_col less_dry_eye'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>LASIK involves the creation of a corneal flap. The creation of a 
										corneal flap affects corneal nerves associated with tear production. As such, patients may experience <a href="https://eyewiki.aao.org/LASIK_for_Myopia_and_Astigmatism:_Safety_and_Efficacy">exacerbated 
										dry eye symptoms following LASIK</a>.</span>
									</div>
								</td>
								<td class='results PRK_col less_dry_eye'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>PRK involves the removal of the corneal epithelium, while variants of PRK
										involve the creation of a flap in the corneal epithelium, instead. 
										The removal of or creation of a flap in the corneal epithelium affects corneal nerves associated with tear production. 
										As such, patients may experience <a href="https://www.aao.org/preferred-practice-pattern/refractive-errors-refractive-surgery-ppp-2017">exacerbated dry eye symptoms following PRK</a>. However, 
										because less of the cornea is touched by PRK than LASIK, <a href="https://eyewiki.aao.org/Photorefractive_Keratectomy">less dry eye</a> is expected.</span>
									</div>
								</td>
								<td class='results IOL_col less_dry_eye'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
									</div>
								</td>
							</tr>
							
							<tr>
								<td class="rowtitle doesnt_influence_rle"><p>Does Not Influence Future Cataract Surgery</p></td>
								<td class='results LASIK_col doesnt_influence_rle'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>Because LASIK involves shaping of the cornea, it may <a href="https://www.aao.org/preferred-practice-pattern/refractive-errors-refractive-surgery-ppp-2017">reduce the 
										accuracy of calculations and vision correction options for future cataract surgery</a>.</span>
									</div>
								</td>
								<td class='results PRK_col doesnt_influence_rle'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>Because PRK and its variants shape the cornea, it may <a href="https://www.aao.org/preferred-practice-pattern/refractive-errors-refractive-surgery-ppp-2017">reduce the 
										accuracy of calculations and vision correction options for future cataract surgery</a>.</span>
									</div>
								</td>
								<td class='results IOL_col doesnt_influence_rle'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>Because Intraocular Surgery involves the placement of an intraocular contact lens, it does not inherently change the eye. As such,  
										its presence does not affect calculations and vision correction options for future catarct surgery, like LASIK and PRK do.</span>
									</div>
								</td>
							</tr>
							
							<tr>
								<td rowspan="3" class="bigrowtitle"><p>Recovery Period</p></td>
								<td class="rowtitle shorter_recovery"><p>Shorter Recovery</p></td>
								<td class='results LASIK_col shorter_recovery'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>LASIK involves the creation of a corneal flap, that is 
										repositioned after the corneal stroma is shaped. The healing process involves the reattachment 
										of the corneal flap, which is shorter than PRK.</span>
									</div>
								</td>
								<td class='results PRK_col shorter_recovery'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>PRK involves the removal of the corneal epithelium. The 
										process of regrowing the corneal epithelium is longer than the process 
										of reattaching the corneal flap, as occurs in LASIK.</span>
									</div>
								</td>
								<td class='results IOL_col shorter_recovery'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
									</div>
								</td>
							</tr>	
							
							<tr>
								<td class="rowtitle less_painful_recovery"><p>Less Painful Recovery</p></td>
								<td class='results LASIK_col less_painful_recovery'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>LASIK involves the creation of a corneal flap, that is 
										repositioned after the corneal stroma is shaped. The healing process involves the reattachment 
										of the corneal flap, which is less painful than PRK.</span>
									</div>
								</td>
								<td class='results PRK_col less_painful_recovery'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>PRK involves the removal of the corneal epithelium. The 
										process of regrowing the corneal epithelium is more painful than the process 
										of reattaching the corneal flap, as occurs in LASIK.</span>
									</div>
								</td>
								<td class='results IOL_col less_painful_recovery'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
									</div>
								</td>
							</tr>	
							
							<tr>
								<td class="rowtitle fewer_fus"><p>Fewer Follow Up Visits</p></td>
								<td class='results LASIK_col fewer_fus'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>Typically, patients follow up at 1 day, 4 days, 
										1 week, 1 month, 3 months, 6 months, and 12 months postoperatively.</span>
									</div>
								</td>
								<td class='results PRK_col fewer_fus'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>Typically, patients follow up at <a href="https://www.surgeryencyclopedia.com/Pa-St/Photorefractive-Keratectomy-PRK.html">1 day, 
										2-4 weeks, 2-3 months, 6 months, and 12 months postoperatively</a>.</span>
									</div>
								</td>
								<td class='results IOL_col fewer_fus'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>IOL patients are recommended to pursue <a href="https://www.fda.gov/medical-devices/phakic-intraocular-lenses/during-after-surgery">indefinite long-term follow up 
										care with their ophthalmologist</a>.</span>
									</div>
								</td>
							</tr>
							
							<tr>
								<td class="bigrowtitle"><p>Expected Results</p></td>
								<td class="rowtitle reversible"><p>Is Reversible</p></td>
								<td class='results LASIK_col reversible'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>LASIK involves the removal of stromal tissue. This tissue cannot be replaced postoperatively.</span>
									</div>
								</td>
								<td class='results PRK_col reversible'>
									<div class='resultstip'>
										<i class="fas fa-times" alt="no"></i>
										<span class='resultstiptext'>PRK and its variants involve the removal of stromal tissue. This tissue cannot be replaced postoperatively.</span>
									</div>
								</td>
								<td class='results IOL_col reversible'>
									<div class='resultstip'>
										<i class="fas fa-check" alt="yes"></i>
										<span class='resultstiptext'>Intraocular Refractive Surgery involves the placement of an intraocular contact lens
										within the eye. This contact lens can be removed and/or replaced, if the intraocular contact lens does not effectively
										correct the patient's vision, is displaced/becomes dislocated, or causes significant side effects or complications.</span>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="2" class="bigrowtitle"><p>Additional Resources</p></td>
								<td class="content LASIK_col">
									<li><p><a href="https://americanrefractivesurgerycouncil.org/lasik/">American Refractive Surgery Council</a></p></li>
									<li><p><a href="https://www.mayoclinic.org/tests-procedures/lasik-eye-surgery/about/pac-20384774">Mayo Clinic</a></p></li>
									<li><p><a href="https://www.allaboutvision.com/visionsurgery/lasik.htm">All About Vision</a></p></li>
									<li><p><a href="https://www.webmd.com/eye-health/lasik-laser-eye-surgery">WebMD</a></p></li>
									<li><p><a href="https://www.medicalnewstoday.com/articles/lasik-surgery">Medical News Today</a></p></li>
								</td>
								<td  class="content PRK_col">
									<li><p><a href="https://eyewiki.aao.org/Photorefractive_Keratectomy">American Academy of Ophthalmology</a></p></li>
									<li><p><a href="https://my.clevelandclinic.org/health/treatments/8596-photorefractive-keratectomy-prk-eye-surgery">Cleveland Clinic</a></p></li>
									<li><p><a href="https://www.allaboutvision.com/en-au/vision-surgery/prk/">All About Vision</a></p></li>
									<li><p><a href="https://www.webmd.com/connect-to-care/lasik/prk-surgery-pros-and-cons">WebMD</a></p></li>
									<li><p><a href="https://www.healthline.com/health/prk">Healthline</a></p></li>
								</td>
								<td  class="content IOL_col">
									<li><p><a href="https://www.aao.org/eye-health/news/phakic-intraocular-lenses-nearsightedness">American Academy of Ophthalmology</a></p></li>
									<li><p><a href="https://www.fda.gov/medical-devices/implants-and-prosthetics/phakic-intraocular-lenses">Food and Drug Administration</a></p></li>
									<li><p><a href="https://www.allaboutvision.com/lens-implant-surgery/">All About Vision</a></p></li>
									<li><p><a href="https://www.webmd.com/eye-health/what-to-know-icl-surgery">WebMD</a></p></li>
									<li><p><a href="https://www.healthline.com/health/icl-surgery">Healthline</a></p></li>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
				
				<div class="disclaimers">
					<div class='disclaimer_relcontraindications'>
						<p><br><strong>Disclaimer:</strong> Contingent upon medical history, some surgeons will not perform 
						refractive surgery on patients with Herpes Simplex Eye Infections, Ocular Rosacea, Severe Dry Eye,
						Strabismus, Keratoconus, Severe Glaucoma, Uveitis, Diabetes Mellitus, and/or Uncontrolled Thyroid Disease. 
						This is because Herpes Simplex Eye Infections, Ocular Rosacea, and Strabismus 
						might recur if the procedure were performed. This is also because Keratoconus, Severe Glaucoma, 
						Uveitis, Diabetes Mellitus, and/or Uncontrolled Thyroid Disease might get worse if the procedure 
						were performed. Share your medical history with your refractive 
						surgeon to determine whether you are a candidate for refractive surgery.</p>
					</div>
					<div class="disclaimer_pregnant">
						<p><br><strong>Disclaimer:</strong> Some surgeons will not perform refractive surgery on
						pregnant and lactating individuals, because eyesight can change
						during pregnancy and lactation. Ask your refractive surgeon during 
						your consultation whether they operate on pregnant or 
						lactating individuals.</p>
					</div>
					<div class="disclaimer_isotretinoin">
						<p><br><strong>Disclaimer:</strong> Some surgeons will not perform refractive surgery on
						patients taking isotretinoin. Share your medical history with your refractive 
						surgeon to determine whether you are a candidate for refractive surgery.</p>
					</div>
					<div class="disclaimer_under21">
						<p><br><strong>Disclaimer:</strong> Remember, refractive surgery is only FDA-approved for
						patients 21 years of age and older. You may have to wait to
						to schedule a consultation with a refractive surgeon.</p>
					</div>
				</div>
				<div class="pageNav"> 
					<a href="#values" class="next round" onclick="navfromsurgeryrecsbackto();"><</a>
					<a href="#moreinfo" class="next round" onclick="hideDivbyID('surgeryrecs'); showDivbyID('moreinfo');">></a>
				</div>
			</div>
		</div>
		
		
	</section>
	<!-- End of Surgery Recommendations Section -->
	
		
	<!-- Surgery Recommendations Section -->
	<section id="moreinfo">
		<div class="moreinfoContainer inner">
			<div class="moreinforecs-top">
				<h1 class="section-title more_info"><br><br><br>Additional Information</h1>
			</div>
			
			<div class="recommendations_table more_info">
						<table>
							<thead>
								<tr>
									<td></td>
									<td class="coltitle"><p>Laser In-Situ Keratomileusis (LASIK)</p></td>
									<td class="coltitle"><p>Photorefractive Keratectomy (PRK)</p></td>
									<td class="coltitle"><p>Intraocular Lenses (IOL)</p></td>
								</tr>
							</thead>
							
							<tbody>						
								<tr>
									<td class="bigrowtitle"><p>Advantages</td>
									<td  class="content LASIK_col">
										<ul>
											<li><p> •	 rapid visual recovery</p></li>
											<li><p>  •	 little to no discomfort</p></li>
										</ul>
									</td>
									<td  class="content PRK_col">
										<ul>
											<li><p> •	 better for patients with thinner or abnormally shaped corneas</p></li>
											<li><p>  •	 minimized eye dryness postoperatively</p></li>
											<li><p>  •	 no risk of flap-related complications</p></li>
										</ul>
									</td>
									<td class="content IOL_col">
										<ul>
											<li><p> •	 better for patients with high myopia who are poor candidates for LASIK and PRK</p></li>
											<li><p>  •	 short recovery period</p></li>
										</ul>
									</td>
								</tr>
											
								<tr>
									<td class="bigrowtitle"><p>Recovery Period</p></td>
									<td  class="content LASIK_col">
										<ul>
											<li><p> •	 4-6 hours postoperatively: Patients may experience mild discomfort-- a burning 
											and itchy sensation--, during which they should rest their eyes. Patients should refrain from rubbing or 
											squeezing their eyes.</p></li>
											<li><p> •	 For 4-10 days: Patients are typically prescribed steroid and antibacterial eye drops, which they should 
											use in accordance with the patient care instructions provided by their ophthalmologist.</p></li>
											<li><p> •	 For Weeks to months: Patients may use preservative-free eye drops to alleviate dry eye symptoms.</p><br><br></li>
																						
											<li><p> •	 3-6 months postoperatively: Patients should expect to achieve vision stabilization.</p><br><br></li>
																						
											<li><p> •	 For 3 days: Patients should avoid non-contact sports.</p></li>
											<li><p> •	 For 1-7 days: Patients may be asked to use a protective shield while showering and sleeping.</p></li>
											<li><p> •	 For 1-2 weeks: Patients should avoid swimming and hot tubs, even with goggles.</p></li>
											<li><p> •	 For 2 weeks: Patients should avoid applying cosmetic products around their eyes.</p></li>
											<li><p> •	 For 4 weeks: Patients should avoid strenuous contact sports.</p></li>
										</ul>
									</td>
									<td  class="content PRK_col">
										<ul>
											<li><p> •	 For 4-5 days postoperatively: Patients may experience tearing, sensitivity to light, moderately blurred vision. 
											This waxes on on days 2 and three and wanes on days 4 and 5.<li><p>
											<li><p> •	 For 4-7 days: Patients must wear a bandage contact lens. During this period, patients are 
											typically prescribed chilled lubricating and medicated drops. The prescription of 
											topical antibiotics, corticosteroids, NSAIDs, and oral analgesic vary by provider.</p><br><br></li>
																						
											<li><p> •	 5 days postoperatively: Patients should expect to have 20/30-20/50 vision.</p></li>
											<li><p> •	 For 4-6 weeks: Patients will observe gradual improvement.</p></li>
											<li><p> •	 3-6 months postoperatively: Patients should expect to achieve vision stabilization.</p><br><br></li>
																						
											<li><p> •	 For 7-10 days: Patients should avoid activities that require good vision, such as driving, reading, and computer use.</p></li>
											<li><p> •	 For 2 weeks: Patients should avoid applying cosmetic products around their eyes. Patients should also 
											avoid swimming and hot tubs, even with goggles.</p></li>
											<li><p> •	 For 1 month: Patients should avoid contact sports.</p></li>
											<li><p> •	 For 1 year: Patients should wear sun glasses for as long as their ophthalmologist recommends.</p></li>
										</ul>
									</td>
									<td class="content IOL_col">
										<ul>
											<li><p> •	 For the first few days: Patients may experience mild discomfort, sensitivity to light, and the feeling 
											that something is in your eye. Patients should refrain from rubbing or 
											squeezing their eyes. Patients may be prescribed pain medication to ameliorate this.</p></li>
											<li><p> •	 For a few weeks: Patients may be prescribed anti-inflammatory and antibiotic eye drops. 
											Patients should wear a shield as instructed by their ophthalmologist.</p><br><br></li>
																					
											<li><p> •	 First several days: Patients may experience hazy or blurry vision, with gradual improvement</p></li>
											<li><p> •	 For several weeks: Patients may experience vision fluctuations.</p></li>
											<li><p> •	 2-4 weeks postoperatively: Patients will achieve vision stability.</p><br><br></li>
																					
											<li><p> •	 For 8 weeks: Patients should not get water in their eyes, bend from the waist to lift weights, lift heavy objects, 
											or engage in strenuous activity.</p></li>
										</ul>
									</td>
								</tr>
											
								<tr>
									<td class="bigrowtitle"><p>Side Effects and Complications</p></td>
									<td class="content LASIK_col"><p>•	 Most common complaints</a>: blurred distance and/or near vision, glare, dry eyes, and night vision 
									problems. Other side effects and complications of LASIK can be found 
									<a href="https://www.aao.org/preferred-practice-pattern/refractive-errors-refractive-surgery-ppp-2017">here</a>.</p></td>
									<td  class="content PRK_col"><p>•	 Most common complaints: blurred distance and/or near vision, glare, dry eyes, and night vision 
									problems. Other side effects and complications of LASIK can be found 
									<a href="https://www.aao.org/preferred-practice-pattern/refractive-errors-refractive-surgery-ppp-2017">here</a>.</p></td>
									<td class="content IOL_col"><p>•	 A high proportion of patients who received IOLs during Phase III clinical trials 
									described their visual acuity as good to excellent.</p></td>
								</tr>
											
								<tr>
									<td class="bigrowtitle"><p>Results</p></td>
									<td  class="content LASIK_col">
										<ul>
											<li><p>•	 95% of patients are satisfied with their results; however, a range of 1-2% are dissatisfied with the 
											surgery and a range of 1-4% are dissatisfied with their vision.</p></li>
											<li><p>•	 At 3 months postoperatively, 96% patients from the general population achieved 20/20 vision</p><br><br></li>
											
											<li><p>•	 More predictable for low to moderate myopia; less predictable
											for high myopia</p></li>
											<li><p>•	 75-100%, with a median of 92%, patients with myopia and myopic astigmatism achieved a 
											prescription within 1.00D intended correction</p></li>
											<li><p>•	 0-3%, with a median of 0.6%, of patients who had myopia or myopic astigmatism preoperatively were
											able to read 2+ fewer lines on the eye chart postoperatively than preoperatively</p><br><br></li>
											
											<li><p>•	 86-91%, with a median of 88%, patients with hyperopia between 0.50D to 6.00D.</p></li>
											<li><p>•	 94-100% hyperopic patients achieved 20/40 vision</p></li>
											<li><p>•	 88-89% patients with hyperopic astigmatism achieved a 
											prescription within 1.00D intended correction</p></li>
											<li><p>•	 94% patients with hyperopic astigmatism achieved 20/40 vision</p></li>
											<li><p>•	 2-5%, with a median of 3%, of patients who had hyperopia or hyperopic astigmatism preoperatively 
											were able to read 2+ fewer lines on the eye chart postoperatively than preoperatively</p></li>
										</ul>
									</td>
									<td class="content PRK_col">
										<ul>
											<li><p>•	 91.8% of patients satisfied with their surgery</p></li>
											<li><p>•	 96.3% believe their goal was achieved</p></li>
											<li><p>•	 95.7% would still have undergone surgery if faced with the decision again</p><br><br></li>
											
											<li><p>•	 More predictable for low to moderate myopia; less predictable
											for high myopia</p></li>
											<li><p>•	 12 months postoperatively, 70-92% of patients with preoperative prescriptions 
											ranging from -1.00D to -14.00D had a visual acuity of 20/20 to 20/40</p></li>
											<li><p>•	 12 months postoperatively, 86% of patients with preoperative prescriptions 
											ranging from -1.00D to -14.00D had a prescription within 1.00D of their intended correction.</p></li>
											<li><p>•	 1 year postoperatively, 0-1% of patients who had low to moderate myopia preoperatively were able
											to read 2+ fewer lines on the eye chart postoperatively than preoperatively</p></li>
											<li><p>•	 1 year postoperatively, 6% of patients who had high myopia preoperatively were able
											to read 2+ fewer lines on the eye chart postoperatively than preoperatively</p><br><br></li>
											
											<li><p>•	 More predictable for low to moderate hyperopia; less predictable
											for high hyperopia</p></li>
											<li><p>•	 12 months or more postoperatively, 79% of hyperopic patients achieved within 
											1.00D of their intended correction</p></li>
										</ul>
									</td>
									<td  class="content IOL_col"><p>•	 Phakic IOLs are currently in Phase III clinical trials. As such, results are still unknown.</p></td>
								</tr>
							</tbody>
						</table>
				<div class="pageNav"> 
					<a href="#values" class="next round" onclick="hideDivbyID('moreinfo'); showDivbyID('surgeryrecs');"><</a>
					<a href="#surgeonrecs" class="next round" onclick="hideDivbyID('moreinfo'); showDivbyID('surgeonrecs');">></a>
				</div>
			</div>
		</div>
		
		
	</section>
	<!-- End of Surgery Recommendations Section -->
	
	<!-- Surgeon Recommendations Section -->
	<section id="surgeonrecs">
		<div class="surgeonrecsContainer inner">
			<div class="surgeonrecs-top">
				<h1 class="section-title"><br><br><br>Surgeon Recommendations</h1>
				<p>Below are surgeons in the Phoenix metropolitan area, that are recommended to you based upon the surgery that you were
				 recommended in the previous section.</p>
				 <p><strong>Disclaimer:</strong> The views and opinions expressed in these reviews are those of the Google reviewers and do not necessarily reflect
				 those of the developers of this application.<br><br></p>
			</div>
			<div class="surgeonrecs-bottom">
				<div class="LASIK_surgeons">
					<table>
						<tr><td><h2>Carrot Eye Center</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-e3e4cf5b-e20d-44fc-beec-151600949292"></div> 
						</td></tr>
						
						<tr><td><h2><br><br>Barnet Dulaney Perkins Eye Center</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-84678646-8f21-4cfc-9827-65f9677004da"></div>
						</td></tr>
						
						<tr><td><h2><br><br>Swagel Wootton Eye Institute - Mesa</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-4b7eafa8-0654-4cc2-9fc0-7e404ccd0997"></div>
						</td></tr>
					</table>
				</div>
				<div class="PRK_surgeons">
					<table>
						<tr><td><h2>Carrot Eye Center</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-e3e4cf5b-e20d-44fc-beec-151600949292"></div> 
						</td></tr>
						
						<tr><td><h2><br><br>Swagel Wootton Eye Institute - Mesa</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-3c43b0bb-951e-429c-b096-07bd1cb10f6d"></div>
						</td></tr>
						
						<tr><td><h2><br><br>Eye Doctors of Arizona</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-20edcbe5-422c-4e7c-b530-83dcc803b3c6"></div>
						</td></tr>
					</table>
				</div>
				<div class="IOL_surgeons">
					<table>
						<tr><td><h2>Carrot Eye Center</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-e3e4cf5b-e20d-44fc-beec-151600949292"></div> 
						</td></tr>
						
						<tr><td><h2>Swagel Wootton Eye Institute - Mesa</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-3c43b0bb-951e-429c-b096-07bd1cb10f6d"></div>
						</td></tr>
						
						<tr><td><h2><br><br>Southwestern Eye Center</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-38713e41-a53c-4736-af28-1446038076ea"></div>
						</td></tr>
					</table>
				</div>
				<div class="none_surgeons">
					<table>
						<tr><td><h2>Eye Doctors of Arizona</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-20edcbe5-422c-4e7c-b530-83dcc803b3c6"></div>
						</td></tr>
						
						<tr><td><h2><br><br>Swagel Wootton Eye Institute - Mesa</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-3c43b0bb-951e-429c-b096-07bd1cb10f6d"></div>
						</td></tr>
						
						<tr><td><h2><br><br>Carrot Eye Center</h2></td></tr>
						<tr><td>
							<script src="https://apps.elfsight.com/p/platform.js" defer></script>
							<div class="elfsight-app-e3e4cf5b-e20d-44fc-beec-151600949292"></div> 
						</td></tr>
						
					</table>
				</div>
				
				<div class="pageNav"> 
					<a href="#moreinfo" class="next round" onclick="hideDivbyID('surgeonrecs'); showDivbyID('moreinfo');"><</a>
				</div>
			</div>
		</div>
		
	</section>
	<!-- End of Surgeon Recommendations Section -->
	
	<script>
		const mainMenu = document.querySelector('.mainMenu');
		const closeMenu = document.querySelector('.closeMenu');
		const openMenu = document.querySelector('.openMenu');

		openMenu.addEventListener('click', show);
		closeMenu.addEventListener('click', close);

		function show(){
			mainMenu.style.display = 'flex';
			mainMenu.style.top = '0';
		}
		
		function close(){
			mainMenu.style.top = '-100%';
		}
	</script>

	
</body>
</html>
